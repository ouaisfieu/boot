<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Samsong ‚Ä¢ Boot, News & Mini-Jeu</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg: #020617;
      --fg: #e5e7eb;
      --soft: #9ca3af;
      --accent: #38bdf8;
      --accent2: #f97316;
    }

    * { box-sizing: border-box; }

    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at 0 0, #0f172a, #020617 55%);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: var(--fg);
      -webkit-font-smoothing: antialiased;
      overflow: hidden;
    }

    body {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* CADRE SMARTPHONE */

    .phone-shell {
      width: min(380px, 100vw - 24px);
      height: min(780px, 100vh - 24px);
      border-radius: 32px;
      background: linear-gradient(145deg, #020617, #111827);
      border: 2px solid #111827;
      box-shadow:
        0 0 0 6px rgba(0,0,0,0.8),
        0 30px 60px rgba(0,0,0,0.9);
      padding: 10px;
      position: relative;
      display: flex;
      flex-direction: column;
    }

    .phone-notch {
      width: 90px;
      height: 16px;
      border-radius: 0 0 999px 999px;
      background: #020617;
      margin: 0 auto 8px;
      position: relative;
    }

    .phone-notch::before {
      content: "";
      position: absolute;
      left: 14px;
      top: 4px;
      width: 14px;
      height: 14px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, #0ea5e9, #020617);
    }

    .phone-notch::after {
      content: "";
      position: absolute;
      right: 16px;
      top: 6px;
      width: 26px;
      height: 4px;
      border-radius: 999px;
      background: #111827;
    }

    .phone-screen {
      flex: 1;
      border-radius: 24px;
      background: #020617;
      overflow: hidden;
      position: relative;
      border: 1px solid #111827;
    }

    /* ECRAN BOOT */

    .boot-screen,
    .home-screen {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
    }

    .boot-screen {
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at 50% 0%, #020617, #000);
      color: #f9fafb;
      animation: bootFade 4s ease-in-out forwards;
    }

    .boot-logo {
      font-size: 26px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      margin-bottom: 4px;
    }

    .boot-logo span {
      color: var(--accent);
    }

    .boot-tagline {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--soft);
      margin-bottom: 16px;
    }

    .boot-spinner {
      width: 70px;
      height: 70px;
      border-radius: 999px;
      border: 3px solid #1f2937;
      border-top-color: var(--accent);
      animation: spin 1.2s linear infinite;
      margin-bottom: 12px;
    }

    .boot-status {
      font-size: 11px;
      color: var(--soft);
      text-align: center;
      max-width: 260px;
    }

    .boot-status small {
      display: block;
      font-size: 9px;
      margin-top: 4px;
      opacity: 0.7;
    }

    @keyframes bootFade {
      0%   { opacity: 1; }
      80%  { opacity: 1; }
      100% { opacity: 0; visibility: hidden; }
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* HOME & STATUT BAR */

    .home-screen {
      background: radial-gradient(circle at 0 0, rgba(56,189,248,0.05), transparent 60%), #020617;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.6s ease-out;
    }

    .home-screen.visible {
      opacity: 1;
      pointer-events: auto;
    }

    .status-bar {
      height: 26px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 12px;
      font-size: 11px;
      color: var(--soft);
      background: linear-gradient(to right, #020617, #020617aa, #020617);
      border-bottom: 1px solid #0f172a;
    }

    .status-bar-left {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .status-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 6px rgba(34,197,94,0.7);
    }

    .status-bar-center {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: var(--soft);
    }

    .status-bar-right {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .signal-bars {
      display: flex;
      align-items: flex-end;
      gap: 1px;
    }

    .signal-bars span {
      width: 2px;
      border-radius: 999px;
      background: var(--soft);
    }

    .signal-bars span:nth-child(1) { height: 5px; opacity: .4; }
    .signal-bars span:nth-child(2) { height: 7px; opacity: .5; }
    .signal-bars span:nth-child(3) { height: 9px; opacity: .7; }
    .signal-bars span:nth-child(4) { height: 11px; opacity: 1; }

    .battery {
      width: 18px;
      height: 9px;
      border-radius: 3px;
      border: 1px solid #4b5563;
      position: relative;
      margin-left: 2px;
    }

    .battery::after {
      content: "";
      position: absolute;
      right: -3px;
      top: 2px;
      width: 2px;
      height: 5px;
      border-radius: 1px;
      background: #4b5563;
    }

    .battery-fill {
      position: absolute;
      inset: 1px;
      border-radius: 2px;
      background: linear-gradient(90deg, #22c55e, #a3e635);
      width: 70%;
    }

    /* NOTIFS / APPS / ACTUS */

    .notif-bar {
      padding: 6px 12px 4px;
      border-bottom: 1px solid #0f172a;
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
    }

    .notif-pill {
      border-radius: 999px;
      padding: 2px 6px;
      font-size: 10px;
      background: rgba(15,23,42,0.95);
      border: 1px solid #1f2937;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .notif-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: #facc15;
    }

    .news-header {
      padding: 6px 12px 4px;
      border-bottom: 1px solid #0f172a;
    }

    .news-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 2px;
    }

    .news-subtitle {
      font-size: 11px;
      color: var(--soft);
    }

    .news-subtitle a {
      color: var(--accent);
      text-decoration: underline;
      text-decoration-style: dotted;
      cursor: pointer;
    }

    .app-grid {
      padding: 4px 12px 6px;
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 6px;
    }

    .app-icon {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2px;
      cursor: pointer;
      font-size: 10px;
      color: var(--soft);
    }

    .app-bubble {
      width: 30px;
      height: 30px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 0 12px rgba(15,23,42,0.9);
      font-size: 16px;
    }

    .app-bubble.phone {
      background: radial-gradient(circle at 30% 0, #22c55e, #065f46);
    }

    .app-bubble.msg {
      background: radial-gradient(circle at 30% 0, #f97316, #7c2d12);
    }

    .app-bubble.news {
      background: radial-gradient(circle at 30% 0, #38bdf8, #0c4a6e);
    }

    .app-bubble.game {
      background: radial-gradient(circle at 30% 0, #a855f7, #4c1d95);
    }

    .app-label {
      text-align: center;
    }

    .badge-count {
      font-size: 9px;
      background: #ef4444;
      color: white;
      border-radius: 999px;
      padding: 0 4px;
      margin-left: 2px;
    }

    /* FLUX ACTUS & MESSAGES */

    .news-feed-wrapper {
      flex: 1;
      position: relative;
      overflow: hidden;
      padding: 0 2px 4px;
    }

    .news-feed {
      position: absolute;
      inset: 0;
      overflow-y: auto;
      padding: 4px 10px 60px;
      scroll-behavior: smooth;
    }

    .news-card {
      border-radius: 14px;
      padding: 8px 10px;
      margin-bottom: 8px;
      background: radial-gradient(circle at 0 0, rgba(56,189,248,0.15), transparent 55%), #020617;
      border: 1px solid #0f172a;
      font-size: 12px;
      cursor: pointer;
      transition: transform 0.12s ease-out, box-shadow 0.12s ease-out, border-color 0.12s ease-out;
    }

    .news-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 20px rgba(0,0,0,0.7);
      border-color: var(--accent);
    }

    .news-meta {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 10px;
      color: var(--soft);
      margin-top: 4px;
    }

    .news-tag {
      padding: 2px 6px;
      border-radius: 999px;
      border: 1px solid #1f2937;
      font-size: 9px;
      text-transform: uppercase;
      letter-spacing: .12em;
    }

    .message-card {
      border-radius: 12px;
      padding: 7px 9px;
      margin-bottom: 8px;
      background: radial-gradient(circle at 100% 0, rgba(248,113,113,0.15), transparent 55%), #020617;
      border: 1px solid #111827;
      font-size: 12px;
      cursor: pointer;
      transition: transform 0.12s ease-out, box-shadow 0.12s ease-out, border-color 0.12s ease-out;
    }

    .message-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 20px rgba(0,0,0,0.7);
      border-color: var(--accent2);
    }

    .message-meta {
      font-size: 10px;
      color: var(--soft);
      margin-bottom: 2px;
      display: flex;
      justify-content: space-between;
      gap: 4px;
    }

    /* DOCK */

    .dock {
      height: 52px;
      padding: 4px 18px 8px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: linear-gradient(to top, #020617, transparent);
    }

    .dock-inner {
      flex: 1;
      border-radius: 18px;
      padding: 6px 10px;
      background: rgba(15,23,42,0.9);
      border: 1px solid #0f172a;
      display: flex;
      justify-content: space-around;
      align-items: center;
    }

    .dock-icon {
      width: 26px;
      height: 26px;
      border-radius: 9px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 0 12px rgba(56,189,248,0.5);
      cursor: pointer;
      font-size: 13px;
    }

    .dock-icon.phone {
      background: radial-gradient(circle at 30% 0, #22c55e, #065f46);
    }

    .dock-icon.msg {
      background: radial-gradient(circle at 30% 0, #f97316, #7c2d12);
    }

    .dock-icon.news {
      background: radial-gradient(circle at 30% 0, #38bdf8, #0c4a6e);
    }

    .dock-icon.game {
      background: radial-gradient(circle at 30% 0, #a855f7, #4c1d95);
      font-size: 11px;
    }

    /* MODALE GENERALE */

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.78);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 100;
      padding: 16px;
    }

    .modal-backdrop.visible {
      display: flex;
    }

    .modal {
      width: min(360px, 100%);
      max-height: min(520px, 100%);
      background: #020617;
      border-radius: 18px;
      border: 1px solid #1f2937;
      box-shadow: 0 30px 60px rgba(0,0,0,0.9);
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .modal-header {
      padding: 8px 12px;
      border-bottom: 1px solid #111827;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 12px;
    }

    .modal-header-title {
      font-weight: 600;
    }

    .modal-header small {
      font-size: 10px;
      color: var(--soft);
    }

    .modal-close {
      border: none;
      background: transparent;
      color: var(--soft);
      font-size: 14px;
      cursor: pointer;
    }

    .modal-body {
      padding: 8px 12px 10px;
      font-size: 12px;
      overflow-y: auto;
    }

    .modal-image {
      border-radius: 12px;
      overflow: hidden;
      margin-bottom: 8px;
      border: 1px solid #111827;
    }

    .modal-image img {
      display: block;
      width: 100%;
      height: auto;
    }

    .modal-body p {
      margin: 4px 0;
      color: var(--soft);
      line-height: 1.4;
    }

    .modal-body a {
      color: var(--accent);
      text-decoration: underline;
      text-decoration-style: dotted;
      cursor: pointer;
    }

    .modal-footer {
      padding: 8px 12px;
      border-top: 1px solid #111827;
      display: flex;
      justify-content: flex-end;
      gap: 6px;
    }

    .btn {
      border-radius: 999px;
      border: 1px solid #4b5563;
      background: #020617;
      color: var(--fg);
      font-size: 11px;
      padding: 5px 10px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .btn.primary {
      border-color: var(--accent);
      background: radial-gradient(circle at 20% 0, #e0f2fe, #0ea5e9);
      color: #02131f;
      font-weight: 600;
    }

    .btn:active {
      transform: translateY(1px);
    }

    /* MINI-JEU OVERLAY */

    .game-overlay {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 110;
      padding: 16px;
      background: rgba(0,0,0,0.85);
    }

    .game-overlay.visible {
      display: flex;
    }

    .game-card {
      width: min(340px, 100%);
      background: #020617;
      border-radius: 18px;
      border: 1px solid #1f2937;
      box-shadow: 0 30px 60px rgba(0,0,0,0.95);
      padding: 10px 12px 12px;
      font-size: 12px;
      color: var(--fg);
    }

    .game-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 6px;
    }

    .game-title {
      font-weight: 600;
    }

    .game-grid {
      margin: 6px 0 8px;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 4px;
    }

    .game-cell {
      border-radius: 10px;
      border: 1px solid #111827;
      background: #020617;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 18px;
      transition: background 0.1s ease-out, transform 0.1s ease-out, box-shadow 0.1s ease-out;
    }

    .game-cell.glitch {
      background: radial-gradient(circle at 30% 0, #a855f7, #4c1d95);
      box-shadow: 0 0 16px rgba(168,85,247,0.7);
      transform: translateY(-1px);
    }

    .game-info {
      font-size: 11px;
      color: var(--soft);
      margin-bottom: 4px;
    }

    .game-score {
      font-size: 12px;
      margin-bottom: 4px;
    }

    .game-footer {
      display: flex;
      justify-content: flex-end;
      gap: 6px;
      margin-top: 4px;
    }
  </style>
</head>
<body>

<div class="phone-shell">
  <div class="phone-notch"></div>
  <div class="phone-screen">
    <!-- ECRAN BOOT -->
    <div class="boot-screen" id="bootScreen">
      <div class="boot-logo">SAMS<span>ONG</span></div>
      <div class="boot-tagline">life in low definition</div>
      <div class="boot-spinner"></div>
      <div class="boot-status" id="bootStatus">
        Initialisation du syst√®me‚Ä¶
        <small>Chargement des notifications, de la m√©t√©o pourrie et de l‚Äôanxi√©t√© quotidienne.</small>
      </div>
    </div>

    <!-- HOME / NEWS -->
    <div class="home-screen" id="homeScreen">
      <div class="status-bar">
        <div class="status-bar-left">
          <div class="status-dot"></div>
          <span id="statusTime">06:42</span>
        </div>
        <div class="status-bar-center">SAMSONG ‚Ä¢ ACTUS</div>
        <div class="status-bar-right">
          <div class="signal-bars">
            <span></span><span></span><span></span><span></span>
          </div>
          <div class="battery">
            <div class="battery-fill"></div>
          </div>
        </div>
      </div>

      <!-- NOTIFICATIONS -->
      <div class="notif-bar">
        <div class="notif-pill" data-notif="news">
          <span class="notif-dot"></span>
          3 actus non lues
        </div>
        <div class="notif-pill" data-notif="msg">
          <span class="notif-dot"></span>
          2 messages en attente
        </div>
        <div class="notif-pill" data-notif="game">
          <span class="notif-dot"></span>
          1 d√©fi ‚Äúglitch‚Äù dispo
        </div>
      </div>

      <div class="news-header">
        <div class="news-title">Matin gris sur le monde r√©el</div>
        <div class="news-subtitle">
          Tu te r√©veilles, tu scrolles. 
          <a href="#" data-link="haha">Encore une journ√©e √† survivre aux flux.</a>
        </div>
      </div>

      <!-- APPS -->
      <div class="app-grid">
        <div class="app-icon" data-app="phone">
          <div class="app-bubble phone">‚òé</div>
          <div class="app-label">T√©l√©phone</div>
        </div>
        <div class="app-icon" data-app="messages">
          <div class="app-bubble msg">‚úâ</div>
          <div class="app-label">Messages <span class="badge-count">2</span></div>
        </div>
        <div class="app-icon" data-app="news">
          <div class="app-bubble news">üì∞</div>
          <div class="app-label">Actus</div>
        </div>
        <div class="app-icon" data-app="game">
          <div class="app-bubble game">‚òÖ</div>
          <div class="app-label">Jeu glitch</div>
        </div>
      </div>

      <div class="news-feed-wrapper">
        <div class="news-feed" id="newsFeed">
          <!-- Quelques fausses actus -->
          <div class="news-card" data-headline="Coup de th√©√¢tre g√©opolitique local">
            <strong>Bruxelles : la m√©t√©o mentale repasse en mode bruine permanente</strong>
            <p>
              Selon des sources bien inform√©es, 87 % des habitants auraient consult√© les actus
              avant m√™me leur premi√®re gorg√©e de caf√©. Les 13 % restants dorment encore.
            </p>
            <div class="news-meta">
              <span class="news-tag">Soci√©t√©</span>
              <span>il y a 3 min</span>
            </div>
          </div>

          <div class="news-card" data-headline="Nouvelle appli de survie informationnelle">
            <strong>Une appli promet de filtrer toutes les mauvaises nouvelles</strong>
            <p>
              Dans les faits, elle se contente de ralentir le flux en faisant d√©filer les actus
              un peu plus lentement. Les experts parlent d‚Äôun progr√®s symbolique.
            </p>
            <div class="news-meta">
              <span class="news-tag">Tech & Veille</span>
              <span>il y a 7 min</span>
            </div>
          </div>

          <div class="news-card" data-headline="Crise syst√©mique, saison 12">
            <strong>La trilogie des crises se transforme en s√©rie sans fin</strong>
            <p>
              Economie, climat, politique, infox : le crossover est d√©sormais permanent.
              Personne n‚Äôa encore trouv√© le bouton pause.
            </p>
            <div class="news-meta">
              <span class="news-tag">Crises</span>
              <span>il y a 15 min</span>
            </div>
          </div>

          <div class="news-card" data-headline="Le caf√©, dernier rempart">
            <strong>Les baristas d√©clar√©s infrastructure critique de la d√©mocratie</strong>
            <p>
              Sans caf√©, plus personne n‚Äôaurait l‚Äô√©nergie de faire semblant de suivre l‚Äôactualit√©.
              Des n√©gociations sont en cours pour les int√©grer aux plans d‚Äôurgence nationaux.
            </p>
            <div class="news-meta">
              <span class="news-tag">Lifestyle</span>
              <span>il y a 23 min</span>
            </div>
          </div>

          <div class="news-card" data-headline="Breaking : tu es encore l√†">
            <strong>Malgr√© tout, tu continues de scroller</strong>
            <p>
              Le syst√®me te remercie pour ta loyaut√©. En √©change, il t‚Äôoffre une modale surprise
              contenant une image, un texte inutile et un lien tr√®s suspect.
            </p>
            <div class="news-meta">
              <span class="news-tag">Meta</span>
              <span>il y a 42 min</span>
            </div>
          </div>

          <!-- Messages pseudo-SMS -->
          <div class="message-card" data-headline="Message de P. Seudo">
            <div class="message-meta">
              <span>P. Seudo</span>
              <span>il y a 1 h</span>
            </div>
            <div>
              ¬´ Tu scrolles encore les actus au r√©veil ? Clique plut√¥t ici, c‚Äôest plus dr√¥le. ¬ª
            </div>
          </div>

          <div class="message-card" data-headline="Message de ‚ÄúOrganisation‚Äù">
            <div class="message-meta">
              <span>Organisation</span>
              <span>il y a 3 h</span>
            </div>
            <div>
              Votre profil de veilleur citoyen n√©cessite une mise √† jour. Un lien de validation
              t‚Äôattend quelque part dans ce t√©l√©phone‚Ä¶
            </div>
          </div>
        </div>
      </div>

      <!-- DOCK -->
      <div class="dock">
        <div class="dock-inner">
          <div class="dock-icon phone" data-dock="phone">‚òé</div>
          <div class="dock-icon msg" data-dock="messages">‚úâ</div>
          <div class="dock-icon news" data-dock="news">üì∞</div>
          <div class="dock-icon game" data-dock="game">‚òÖ</div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- MODALE GENERALE -->
<div class="modal-backdrop" id="modalBackdrop">
  <div class="modal">
    <div class="modal-header">
      <div>
        <div class="modal-header-title" id="modalTitle">Breaking du matin</div>
        <small>Fausse alerte haute importance</small>
      </div>
      <button class="modal-close" id="modalClose" aria-label="Fermer">‚úï</button>
    </div>
    <div class="modal-body">
      <div class="modal-image">
        <!-- Image pseudo-random -->
        <img id="modalImage" src="https://picsum.photos/400/250?blur=2" alt="Image pseudo d'illustration" />
      </div>
      <p id="modalText1">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse vitae nulla facilisis,
        blandit risus a, interdum est. Fusce in scelerisque justo. Integer eget nibh ac lacus
        ultricies bibendum.
      </p>
      <p id="modalText2">
        Aliquam quis dui sodales, vehicula leo non, sagittis nunc. Vivamus consectetur arcu risus,
        vel tristique augue porta ut. Sed lacinia justo id sem elementum, non posuere nibh gravida.
      </p>
      <p>
        Pour une raison obscure, ton pouce s‚Äôappr√™te d√©j√† √† cliquer ici :
        <a href="https://dl.ouaisfi.eu/haha/" target="_blank" rel="noopener noreferrer" id="modalLink">
          lien enti√®rement random
        </a>.
      </p>
    </div>
    <div class="modal-footer">
      <button class="btn" id="modalLater">Voir plus tard</button>
      <button class="btn primary" id="modalOk">OK, j‚Äôai compris</button>
    </div>
  </div>
</div>

<!-- OVERLAY MINI-JEU -->
<div class="game-overlay" id="gameOverlay">
  <div class="game-card">
    <div class="game-header">
      <div class="game-title">Jeu ‚ÄúTape le glitch‚Äù</div>
      <button class="modal-close" id="gameClose">‚úï</button>
    </div>
    <div class="game-info">
      Un carr√© violet appara√Æt al√©atoirement. Clique dessus le plus vite possible.<br>
      Tout est totalement inutile, sauf le lien qui t‚Äôattend en dessous.
    </div>
    <div class="game-score" id="gameScore">Score : 0 ¬∑ Temps restant : 15 s</div>
    <div class="game-grid" id="gameGrid">
      <!-- 9 cases rempli via JS -->
    </div>
    <div class="game-info">
      Quand tu te lasses, clique ici :
      <a href="https://dl.ouaisfi.eu/haha/" target="_blank" rel="noopener noreferrer">sortie d‚Äôurgence</a>.
    </div>
    <div class="game-footer">
      <button class="btn" id="gameReset">Rejouer</button>
      <button class="btn primary" id="gameStart">Jouer</button>
    </div>
  </div>
</div>

<script>
  const HAHALINK = "https://dl.ouaisfi.eu/haha/";

  function goHaha() {
    window.open(HAHALINK, "_blank");
  }

  // --- Boot + passage √† l'√©cran d'accueil ---
  const bootScreen = document.getElementById('bootScreen');
  const homeScreen = document.getElementById('homeScreen');
  const bootStatus = document.getElementById('bootStatus');
  const statusTime = document.getElementById('statusTime');

  function updateTime() {
    const now = new Date();
    const h = String(now.getHours()).padStart(2, '0');
    const m = String(now.getMinutes()).padStart(2, '0');
    statusTime.textContent = h + ':' + m;
  }
  updateTime();
  setInterval(updateTime, 30_000);

  setTimeout(() => {
    bootStatus.textContent = "Synchronisation des flux d'actualit√©‚Ä¶";
  }, 1200);

  setTimeout(() => {
    bootStatus.textContent = "Insertion de pub mentale‚Ä¶ (rat√©e, heureusement)";
  }, 2300);

  // Au bout de 3,5 s on met l'√©cran d'accueil visible
  setTimeout(() => {
    homeScreen.classList.add('visible');
  }, 3500);

  // --- Auto-scroll du flux d'actus ---
  const newsFeed = document.getElementById('newsFeed');
  let autoScrollInterval = null;

  function startAutoScroll() {
    if (!newsFeed) return;
    let direction = 1;
    autoScrollInterval = setInterval(() => {
      if (!homeScreen.classList.contains('visible')) return;
      newsFeed.scrollTop += 0.5 * direction;
      if (newsFeed.scrollTop + newsFeed.clientHeight >= newsFeed.scrollHeight - 4) {
        direction = -1;
      }
      if (newsFeed.scrollTop <= 0) {
        direction = 1;
      }
    }, 16);
  }

  setTimeout(startAutoScroll, 3800);

  newsFeed.addEventListener('wheel', () => {
    if (autoScrollInterval) {
      clearInterval(autoScrollInterval);
      autoScrollInterval = null;
    }
  });

  // --- Modale : image + lorem + lien haha ---
  const modalBackdrop = document.getElementById('modalBackdrop');
  const modalClose = document.getElementById('modalClose');
  const modalLater = document.getElementById('modalLater');
  const modalOk = document.getElementById('modalOk');
  const modalImage = document.getElementById('modalImage');
  const modalTitle = document.getElementById('modalTitle');

  function openModal(headlineText) {
    if (headlineText) {
      modalTitle.textContent = headlineText;
    } else {
      modalTitle.textContent = "Notification √† moiti√© importante";
    }
    const seed = Math.floor(Math.random() * 1000);
    modalImage.src = 'https://picsum.photos/400/250?blur=2&random=' + seed;
    modalBackdrop.classList.add('visible');
  }

  function closeModal() {
    modalBackdrop.classList.remove('visible');
  }

  modalClose.addEventListener('click', closeModal);
  modalLater.addEventListener('click', closeModal);
  modalOk.addEventListener('click', () => {
    closeModal();
    goHaha();
  });

  modalBackdrop.addEventListener('click', (e) => {
    if (e.target === modalBackdrop) {
      closeModal();
    }
  });

  // Ouvrir la modale automatiquement quelques secondes apr√®s l'arriv√©e sur les actus
  setTimeout(() => {
    openModal("Flash info : ton pouce a cliqu√© tout seul");
  }, 8000);

  // News cards & messages => modale + haha
  document.querySelectorAll('.news-card, .message-card').forEach(card => {
    card.addEventListener('click', () => {
      const title = card.dataset.headline || card.querySelector('strong')?.textContent;
      openModal(title);
      goHaha();
    });
  });

  // Lien dans le sous-titre => haha
  document.querySelectorAll('[data-link="haha"]').forEach(el => {
    el.addEventListener('click', (e) => {
      e.preventDefault();
      goHaha();
    });
  });

  // --- NOTIFS CLIQUABLES ---
  document.querySelectorAll('.notif-pill').forEach(pill => {
    pill.addEventListener('click', () => {
      const type = pill.dataset.notif;
      if (type === 'game') {
        openGame();
      } else {
        openModal("Notification : " + pill.textContent.trim());
      }
      goHaha();
    });
  });

  // --- APPS CLIQUABLES ---
  document.querySelectorAll('.app-icon').forEach(app => {
    app.addEventListener('click', () => {
      const type = app.dataset.app;
      if (type === 'game') {
        openGame();
      } else if (type === 'messages') {
        openModal("Bo√Æte de r√©ception");
      } else if (type === 'phone') {
        openModal("Journal d'appels");
      } else if (type === 'news') {
        openModal("Rappel : tu lis d√©j√† les actus");
      }
      goHaha();
    });
  });

  // --- DOCK ICONS CLIQUABLES ---
  document.querySelectorAll('.dock-icon').forEach(icon => {
    icon.addEventListener('click', () => {
      const type = icon.dataset.dock;
      if (type === 'game') {
        openGame();
      } else if (type === 'messages') {
        openModal("Messages en attente");
      } else if (type === 'phone') {
        openModal("T√©l√©phone (hors zone de confort)");
      } else if (type === 'news') {
        openModal("Actus : encore plus de flux");
      }
      goHaha();
    });
  });

  // --- MINI-JEU "Tape le glitch" ---
  const gameOverlay = document.getElementById('gameOverlay');
  const gameGrid = document.getElementById('gameGrid');
  const gameScoreText = document.getElementById('gameScore');
  const gameClose = document.getElementById('gameClose');
  const gameReset = document.getElementById('gameReset');
  const gameStart = document.getElementById('gameStart');

  let gameScore = 0;
  let gameTime = 15;
  let gameInterval = null;
  let glitchIndex = null;

  function buildGameGrid() {
    gameGrid.innerHTML = "";
    for (let i = 0; i < 9; i++) {
      const cell = document.createElement('button');
      cell.type = "button";
      cell.className = 'game-cell';
      cell.dataset.index = i;
      cell.textContent = " ";
      cell.addEventListener('click', () => onGameCellClick(i));
      gameGrid.appendChild(cell);
    }
  }

  function onGameCellClick(index) {
    if (index === glitchIndex) {
      gameScore++;
      updateGameScoreText();
      goHaha();
      spawnGlitch();
    } else {
      gameScore = Math.max(0, gameScore - 1);
      updateGameScoreText();
    }
  }

  function spawnGlitch() {
    const cells = document.querySelectorAll('.game-cell');
    cells.forEach(c => {
      c.classList.remove('glitch');
      c.textContent = " ";
    });
    glitchIndex = Math.floor(Math.random() * 9);
    const target = cells[glitchIndex];
    target.classList.add('glitch');
    target.textContent = "‚ú¶";
  }

  function updateGameScoreText() {
    gameScoreText.textContent = `Score : ${gameScore} ¬∑ Temps restant : ${gameTime} s`;
  }

  function startGame() {
    clearInterval(gameInterval);
    gameScore = 0;
    gameTime = 15;
    updateGameScoreText();
    spawnGlitch();
    gameInterval = setInterval(() => {
      gameTime--;
      if (gameTime <= 0) {
        clearInterval(gameInterval);
        gameTime = 0;
        updateGameScoreText();
      } else {
        updateGameScoreText();
        spawnGlitch();
      }
    }, 1000);
  }

  function openGame() {
    buildGameGrid();
    updateGameScoreText();
    gameOverlay.classList.add('visible');
  }

  function closeGame() {
    gameOverlay.classList.remove('visible');
    clearInterval(gameInterval);
  }

  gameClose.addEventListener('click', closeGame);
  gameReset.addEventListener('click', () => {
    startGame();
  });
  gameStart.addEventListener('click', () => {
    startGame();
    goHaha();
  });

  gameOverlay.addEventListener('click', (e) => {
    if (e.target === gameOverlay) {
      closeGame();
    }
  });
</script>
</body>
</html>
