<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>QuÃªte dâ€™anniversaire â€“ 16 ans dÃ©bloquÃ© ğŸ‰</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Police ronde, lisible -->
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #020617;
      --bg-soft: #020617;
      --card: #020617;
      --accent-1: #38bdf8;
      --accent-2: #22c55e;
      --accent-3: #f97316;
      --accent-4: #a855f7;
      --text: #f9fafb;
      --muted: #cbd5f5;
      --border: rgba(148,163,184,0.9);
      --radius-lg: 22px;
      --radius-md: 16px;
      --shadow: 0 22px 60px rgba(15,23,42,0.95);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Baloo 2", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background:
        radial-gradient(circle at 0 0, rgba(56,189,248,0.25), transparent 60%),
        radial-gradient(circle at 100% 100%, rgba(168,85,247,0.25), transparent 60%),
        var(--bg);
      color: var(--text);
      min-height: 100vh;
      padding: 1rem 0.6rem 1.6rem;
      display: flex;
      justify-content: center;
    }

    .app {
      width: 100%;
      max-width: 720px;
      background:
        radial-gradient(circle at 0 0, rgba(56,189,248,0.18), transparent 65%),
        radial-gradient(circle at 100% 100%, rgba(15,23,42,0.98), transparent 60%),
        var(--bg-soft);
      border-radius: 26px;
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      padding: 1rem 0.9rem 1.8rem;
      position: relative;
      overflow: hidden;
    }

    @media (min-width: 768px) {
      .app {
        padding: 1.4rem 1.4rem 2.1rem;
      }
    }

    .app::before {
      content: "QuÃªte dâ€™anniversaire â€“ version clÃ© USB ğŸ‚";
      position: absolute;
      top: 0.45rem;
      right: 1.1rem;
      font-size: 0.6rem;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      color: rgba(148,163,184,0.9);
    }

    header {
      border-bottom: 1px dashed rgba(148,163,184,0.8);
      padding-bottom: 0.8rem;
      margin-bottom: 0.7rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .header-top {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .logo-title {
      display: flex;
      gap: 0.5rem;
      align-items: center;
    }

    .logo {
      width: 40px;
      height: 40px;
      border-radius: 16px;
      background:
        conic-gradient(from 210deg,
          rgba(56,189,248,0.0),
          rgba(56,189,248,0.8),
          rgba(34,197,94,0.8),
          rgba(249,115,22,0.9),
          rgba(168,85,247,0.95),
          rgba(56,189,248,0.0));
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 0 26px rgba(56,189,248,0.95);
      font-size: 1.7rem;
    }

    h1 {
      font-size: clamp(1.6rem, 4vw, 2.2rem);
      line-height: 1.1;
    }

    h1 span {
      background: linear-gradient(120deg,#38bdf8,#22c55e,#f97316,#a855f7);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .subtitle {
      font-size: 0.9rem;
      color: var(--muted);
      max-width: 540px;
    }

    .subtitle strong {
      color: var(--text);
    }

    .header-actions {
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
      align-items: flex-end;
    }

    .pill {
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.9);
      padding: 0.16rem 0.6rem;
      font-size: 0.78rem;
      color: var(--muted);
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      background: #020617;
    }

    .pill-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 8px rgba(34,197,94,0.95);
    }

    .toggle-row {
      display: flex;
      gap: 0.3rem;
      flex-wrap: wrap;
      justify-content: flex-end;
    }

    .toggle {
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.9);
      font-size: 0.78rem;
      padding: 0.16rem 0.6rem;
      background: #020617;
      color: var(--muted);
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      cursor: pointer;
    }

    .toggle span.icon {
      font-size: 1rem;
    }

    /* Barre de progrÃ¨s */
    .progress-wrapper {
      margin-top: 0.35rem;
    }

    .progress-label {
      font-size: 0.78rem;
      color: var(--muted);
      display: flex;
      justify-content: space-between;
      gap: 0.3rem;
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      border-radius: 999px;
      background: rgba(15,23,42,0.96);
      border: 1px solid rgba(148,163,184,0.9);
      margin-top: 0.18rem;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg,#22c55e,#38bdf8,#a855f7);
      transition: width 0.25s ease-out;
    }

    main {
      margin-top: 0.85rem;
    }

    .screen {
      display: none;
      animation: fadeIn 0.22s ease-out;
    }

    .screen.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(6px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .card {
      border-radius: var(--radius-md);
      border: 1px solid var(--border);
      background: rgba(15,23,42,0.98);
      box-shadow: 0 14px 36px rgba(15,23,42,1);
      padding: 0.8rem 0.85rem 0.9rem;
      font-size: 0.9rem;
      color: var(--muted);
    }

    .card + .card {
      margin-top: 0.6rem;
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      gap: 0.4rem;
      align-items: center;
      margin-bottom: 0.35rem;
    }

    .card-title {
      font-size: 1rem;
      color: var(--text);
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
    }

    .card-title span.icon {
      font-size: 1.3rem;
    }

    .badge {
      border-radius: 999px;
      border: 1px solid rgba(56,189,248,0.9);
      padding: 0.06rem 0.5rem;
      font-size: 0.72rem;
      color: #e0f2fe;
      display: inline-flex;
      align-items: center;
      gap: 0.22rem;
    }

    .badge-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: #38bdf8;
      box-shadow: 0 0 7px rgba(56,189,248,1);
    }

    .badge.easy {
      border-color: rgba(34,197,94,0.9);
      color: #bbf7d0;
    }
    .badge.medium {
      border-color: rgba(249,115,22,0.9);
      color: #fed7aa;
    }
    .badge.hard {
      border-color: rgba(168,85,247,0.9);
      color: #e9d5ff;
    }

    .question-block {
      margin-top: 0.35rem;
    }

    .question-text {
      font-size: 0.96rem;
      color: var(--text);
      margin-bottom: 0.25rem;
    }

    .question-info {
      font-size: 0.75rem;
      color: var(--muted);
      margin-bottom: 0.18rem;
    }

    .options {
      display: grid;
      gap: 0.25rem;
      margin-top: 0.1rem;
    }

    label.option {
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.9);
      padding: 0.28rem 0.6rem;
      font-size: 0.88rem;
      color: var(--muted);
      display: flex;
      align-items: center;
      gap: 0.4rem;
      background: #020617;
      cursor: pointer;
    }

    label.option input {
      width: auto;
      transform: scale(1.1);
    }

    .option-emoji {
      font-size: 1.1rem;
    }

    .chips {
      display: flex;
      flex-wrap: wrap;
      gap: 0.25rem;
      margin-top: 0.15rem;
    }

    .chip {
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.85);
      padding: 0.16rem 0.55rem;
      font-size: 0.8rem;
      color: var(--muted);
      background: #020617;
      cursor: pointer;
    }

    .chip.selected {
      border-color: var(--accent-2);
      background: rgba(16,185,129,0.2);
      color: #bbf7d0;
    }

    textarea, input, select {
      width: 100%;
      font-family: inherit;
      font-size: 0.9rem;
      border-radius: 12px;
      border: 1px solid rgba(148,163,184,0.9);
      padding: 0.3rem 0.55rem;
      background: #020617;
      color: var(--text);
    }

    textarea {
      resize: vertical;
      min-height: 80px;
    }

    textarea:focus, input:focus, select:focus {
      outline: none;
      border-color: var(--accent-1);
      box-shadow: 0 0 0 1px rgba(56,189,248,0.9);
    }

    .range-row {
      margin-top: 0.2rem;
      display: flex;
      align-items: center;
      gap: 0.45rem;
      font-size: 0.84rem;
    }

    .range-row span.value {
      min-width: 2.4rem;
      text-align: center;
      font-size: 1rem;
      color: var(--accent-2);
    }

    input[type="range"] {
      flex: 1;
    }

    .helper {
      font-size: 0.78rem;
      color: var(--muted);
      margin-top: 0.16rem;
    }

    .btn-row {
      margin-top: 0.5rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.35rem;
      justify-content: flex-end;
    }

    button {
      font-family: inherit;
    }

    .btn {
      border-radius: 999px;
      border: none;
      padding: 0.35rem 0.9rem;
      font-size: 0.9rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      background: linear-gradient(135deg,#22c55e,#38bdf8);
      color: #020617;
      box-shadow: 0 10px 24px rgba(15,23,42,1);
      font-weight: 600;
    }

    .btn span.icon {
      font-size: 1.1rem;
    }

    .btn-ghost {
      background: #020617;
      border: 1px solid rgba(148,163,184,0.9);
      color: var(--muted);
      box-shadow: none;
    }

    .btn-small {
      padding: 0.24rem 0.7rem;
      font-size: 0.8rem;
    }

    .level-label {
      font-size: 0.8rem;
      color: var(--muted);
      margin-bottom: 0.25rem;
    }

    /* Ã‰cran final */
    .final-title {
      font-size: 1.3rem;
      margin-bottom: 0.3rem;
      text-align: center;
    }

    .final-title span {
      background: linear-gradient(120deg,#f97316,#22c55e,#38bdf8,#a855f7);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .final-subtitle {
      font-size: 0.95rem;
      text-align: center;
      color: var(--muted);
      margin-bottom: 0.5rem;
    }

    .message-box {
      border-radius: 16px;
      border: 1px dashed rgba(148,163,184,0.9);
      padding: 0.5rem 0.6rem;
      background: #020617;
      font-size: 0.88rem;
      margin-top: 0.4rem;
    }

    .message-label {
      font-size: 0.8rem;
      color: var(--muted);
      margin-bottom: 0.18rem;
    }

    .message-area {
      width: 100%;
      border-radius: 12px;
      border: 1px solid rgba(148,163,184,0.9);
      background: #020617;
      color: var(--text);
      font-family: inherit;
      font-size: 0.9rem;
      padding: 0.3rem 0.55rem;
      min-height: 72px;
      resize: vertical;
    }

    /* Confettis */
    .confetti {
      position: fixed;
      top: -10px;
      width: 8px;
      height: 14px;
      border-radius: 3px;
      opacity: 0.9;
      pointer-events: none;
      z-index: 999;
      animation: fall 2.8s linear forwards;
    }

    @keyframes fall {
      to {
        transform: translate3d(0, 110vh, 0) rotateZ(180deg);
        opacity: 0;
      }
    }

    /* Mode confort lecture */
    .comfort-mode {
      letter-spacing: 0.03em;
      line-height: 1.35;
    }

    .comfort-mode .card {
      font-size: 0.96rem;
    }

    .comfort-mode .subtitle {
      font-size: 0.95rem;
    }

    .comfort-mode .question-text {
      font-size: 1rem;
    }

    /* Toast */
    .toast {
      position: fixed;
      left: 50%;
      bottom: 1rem;
      transform: translateX(-50%);
      background: #020617;
      border-radius: 999px;
      border: 1px solid rgba(56,189,248,0.9);
      padding: 0.35rem 0.9rem;
      font-size: 0.82rem;
      color: #e0f2fe;
      box-shadow: 0 16px 32px rgba(15,23,42,1);
      display: none;
      z-index: 1000;
    }
  </style>
</head>
<body>
<div class="app" id="appRoot">
  <header>
    <div class="header-top">
      <div class="logo-title">
        <div class="logo">ğŸ‚</div>
        <div>
          <h1>QuÃªte <span>16 ans dÃ©bloquÃ©</span></h1>
          <p class="subtitle">
            Un petit jeu tranquille pour ton anniversaire : plusieurs niveaux, des questions
            diffÃ©rentes, zÃ©ro prise de tÃªte. Tu peux passer les questions qui tâ€™Ã©nervent.
            Si tu vas jusquâ€™au bout, tu dÃ©bloques un <strong>joyeux anniversaire spÃ©cial</strong>. âœ¨
          </p>
        </div>
      </div>
      <div class="header-actions">
        <div class="pill">
          <span class="pill-dot"></span>
          <span>Niveau : grand dÃ©butant bien rÃ©veillÃ©</span>
        </div>
        <div class="toggle-row">
          <button class="toggle" type="button" id="toggleComfort">
            <span class="icon">ğŸ§˜â€â™‚ï¸</span><span>Mode confort lecture</span>
          </button>
          <button class="toggle" type="button" id="toggleAnimations">
            <span class="icon">ğŸŒ™</span><span>Animations calmes</span>
          </button>
        </div>
      </div>
    </div>

    <div class="progress-wrapper">
      <div class="progress-label">
        <span id="progressText">Ã‰tape 1 sur 4</span>
        <span id="progressHint">Tu peux faire pause, revenir plus tard.</span>
      </div>
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>
    </div>
  </header>

  <main>
    <!-- Ã‰cran dâ€™intro -->
    <section class="screen active" id="screen-intro">
      <div class="card">
        <div class="card-header">
          <div class="card-title">
            <span class="icon">â­</span>
            <span>Bienvenue dans ta propre aventure</span>
          </div>
        </div>
        <p>
          Aujourdâ€™hui, câ€™est <strong>ton jour</strong>. Pas besoin dâ€™Ãªtre â€œbon en mathsâ€,
          â€œbon en orthographeâ€ ou â€œtoujours concentrÃ©â€. Ici, on joue, on clique, on rÃ©pond
          comme on veut.
        </p>
        <p style="margin-top:0.4rem;">
          Il y a <strong>3 niveaux</strong> :
        </p>
        <ul style="margin-left:1.1rem; margin-top:0.2rem;">
          <li><strong>Niveau 1 :</strong> Ã‰chauffement tranquille.</li>
          <li><strong>Niveau 2 :</strong> HÃ©ros en exploration.</li>
          <li><strong>Niveau 3 :</strong> 16 ans dÃ©bloquÃ© â€“ version â€œmultiversâ€.</li>
        </ul>
        <p style="margin-top:0.35rem;">
          Ã€ la fin, si tu as Ã©tÃ© au bout des 3 niveaux (mÃªme en passant des questions),
          la page te souhaite un <strong>joyeux anniversaire comme il faut</strong>. ğŸ‰
        </p>
        <div class="btn-row">
          <button class="btn" type="button" data-next="screen-1">
            <span class="icon">â¡ï¸</span><span>Câ€™est parti !</span>
          </button>
        </div>
      </div>
    </section>

    <!-- Niveau 1 -->
    <section class="screen" id="screen-1">
      <div class="card">
        <div class="card-header">
          <div>
            <div class="card-title">
              <span class="icon">ğŸŒˆ</span>
              <span>Niveau 1 â€“ Ã‰chauffement tranquille</span>
            </div>
            <div class="level-label">Questions faciles, zÃ©ro stress.</div>
          </div>
          <div class="badge easy">
            <span class="badge-dot"></span><span>Facile</span>
          </div>
        </div>

        <!-- Q1 : choix de phrase -->
        <div class="question-block">
          <div class="question-text">1. La phrase qui te ressemble le plus en ce moment :</div>
          <div class="question-info">Un seul choix Â· difficultÃ© ğŸŸ¢</div>
          <div class="options">
            <label class="option">
              <input type="radio" name="q1" value="curieux">
              <span class="option-emoji">ğŸ§ </span>
              <span>Jâ€™aime bien apprendreâ€¦ quand câ€™est expliquÃ© simplement.</span>
            </label>
            <label class="option">
              <input type="radio" name="q1" value="fatigue">
              <span class="option-emoji">ğŸ˜´</span>
              <span>Je suis fatiguÃ©, mais je veux bien cliquer un peu.</span>
            </label>
            <label class="option">
              <input type="radio" name="q1" value="game">
              <span class="option-emoji">ğŸ®</span>
              <span>Si câ€™est prÃ©sentÃ© comme un jeu, je suis partant.</span>
            </label>
          </div>
        </div>

        <!-- Q2 : maniÃ¨re dâ€™apprendre -->
        <div class="question-block" style="margin-top:0.5rem;">
          <div class="question-text">2. Quand tu apprends un truc nouveauâ€¦</div>
          <div class="question-info">Un seul choix Â· difficultÃ© ğŸŸ¢</div>
          <div class="options">
            <label class="option">
              <input type="radio" name="q2" value="video">
              <span class="option-emoji">ğŸ“½ï¸</span>
              <span>Tu prÃ©fÃ¨res voir des vidÃ©os, des images, des dessins.</span>
            </label>
            <label class="option">
              <input type="radio" name="q2" value="parler">
              <span class="option-emoji">ğŸ—£ï¸</span>
              <span>Tu prÃ©fÃ¨res que quelquâ€™un tâ€™explique en parlant.</span>
            </label>
            <label class="option">
              <input type="radio" name="q2" value="faire">
              <span class="option-emoji">ğŸ› ï¸</span>
              <span>Tu prÃ©fÃ¨res tester toi-mÃªme, bidouiller, essayer.</span>
            </label>
          </div>
        </div>

        <!-- Q3 : slider Ã©nergie -->
        <div class="question-block" style="margin-top:0.5rem;">
          <div class="question-text">3. Niveau dâ€™Ã©nergie pour cette quÃªte :</div>
          <div class="question-info">Glisse le curseur Â· difficultÃ© ğŸŸ¢</div>
          <div class="range-row">
            <span>ğŸ˜´</span>
            <input type="range" id="energy" min="0" max="10" value="5">
            <span>âš¡</span>
            <span class="value" id="energyValue">5</span>
          </div>
          <div class="helper">Tu peux laisser au milieu si tu ne sais pas.</div>
        </div>

        <div class="btn-row">
          <button class="btn-ghost btn-small" type="button" data-skip="screen-2">Je passe ce niveau</button>
          <button class="btn btn-small" type="button" data-next="screen-2" data-level="1">
            <span class="icon">âœ…</span><span>Valider le niveau 1</span>
          </button>
        </div>
      </div>
    </section>

    <!-- Niveau 2 -->
    <section class="screen" id="screen-2">
      <div class="card">
        <div class="card-header">
          <div>
            <div class="card-title">
              <span class="icon">ğŸ›¸</span>
              <span>Niveau 2 â€“ Explorateur dâ€™univers</span>
            </div>
            <div class="level-label">Questions un peu plus â€œsens de la vieâ€, mais toujours chill.</div>
          </div>
          <div class="badge medium">
            <span class="badge-dot"></span><span>Moyen</span>
          </div>
        </div>

        <!-- Q4 : rÃ´le prÃ©fÃ©rÃ© -->
        <div class="question-block">
          <div class="question-text">4. Dans une grande histoire (films, sÃ©ries, dessins animÃ©s)â€¦</div>
          <div class="question-info">Un seul choix Â· difficultÃ© ğŸŸ </div>
          <div class="options">
            <label class="option">
              <input type="radio" name="q4" value="hero">
              <span class="option-emoji">ğŸ¦¸â€â™‚ï¸</span>
              <span>Tu te sens plutÃ´t comme le hÃ©ros ou lâ€™hÃ©roÃ¯ne.</span>
            </label>
            <label class="option">
              <input type="radio" name="q4" value="buddy">
              <span class="option-emoji">ğŸ§™â€â™‚ï¸</span>
              <span>Tu te sens plutÃ´t comme lâ€™ami fidÃ¨le / le cerveau de lâ€™ombre.</span>
            </label>
            <label class="option">
              <input type="radio" name="q4" value="chaos">
              <span class="option-emoji">ğŸ˜ˆ</span>
              <span>Tu te sens plutÃ´t comme celui/celle qui met le chaosâ€¦ mais pour faire bouger les choses.</span>
            </label>
          </div>
        </div>

        <!-- Q5 : vrai/faux bienveillance -->
        <div class="question-block" style="margin-top:0.5rem;">
          <div class="question-text">5. Petit vrai / faux de survie :</div>
          <div class="question-info">Coche ce qui est VRAI pour toi Â· difficultÃ© ğŸŸ </div>
          <div class="options">
            <label class="option">
              <input type="checkbox" name="q5" value="erreurs">
              <span class="option-emoji">âœ…</span>
              <span>Pour apprendre, on a <strong>le droit</strong> de se tromper.</span>
            </label>
            <label class="option">
              <input type="checkbox" name="q5" value="comparer">
              <span class="option-emoji">âš ï¸</span>
              <span>Se comparer aux autres tout le temps, câ€™est souvent nul pour le moral.</span>
            </label>
            <label class="option">
              <input type="checkbox" name="q5" value="neutre">
              <span class="option-emoji">ğŸ§Š</span>
              <span>Si un exercice te saoule, tu as le droit de faire une pause.</span>
            </label>
          </div>
          <div class="helper">Tu peux cocher 1, 2 ou 3 cases. Ce nâ€™est pas un contrÃ´le, juste un rappel.</div>
        </div>

        <!-- Q6 : ce que tu aimes -->
        <div class="question-block" style="margin-top:0.5rem;">
          <div class="question-text">6. Ce que tu aimes le plus dans les histoires :</div>
          <div class="question-info">Tu peux choisir plusieurs choses Â· difficultÃ© ğŸŸ </div>
          <div class="chips" id="chipsQ6">
            <button class="chip" type="button" data-value="humour">ğŸ˜‚ Lâ€™humour</button>
            <button class="chip" type="button" data-value="musique">ğŸµ La musique et les chansons</button>
            <button class="chip" type="button" data-value="epique">âš”ï¸ Les grandes batailles / dÃ©fis</button>
            <button class="chip" type="button" data-value="magie">âœ¨ La magie / les pouvoirs</button>
            <button class="chip" type="button" data-value="univers">ğŸŒ Les mondes et paysages incroyables</button>
          </div>
        </div>

        <div class="btn-row">
          <button class="btn-ghost btn-small" type="button" data-prev="screen-1">â¬…ï¸ Retour niveau 1</button>
          <button class="btn-ghost btn-small" type="button" data-skip="screen-3">Je passe ce niveau</button>
          <button class="btn btn-small" type="button" data-next="screen-3" data-level="2">
            <span class="icon">ğŸš€</span><span>Valider le niveau 2</span>
          </button>
        </div>
      </div>
    </section>

    <!-- Niveau 3 -->
    <section class="screen" id="screen-3">
      <div class="card">
        <div class="card-header">
          <div>
            <div class="card-title">
              <span class="icon">ğŸŒ </span>
              <span>Niveau 3 â€“ 16 ans â€œmultivers dÃ©bloquÃ©â€</span>
            </div>
            <div class="level-label">Tu peux rÃ©pondre comme tu veux. Ce niveau sert surtout Ã  te projeter.</div>
          </div>
          <div class="badge hard">
            <span class="badge-dot"></span><span>â€œHardâ€ mais sans notes</span>
          </div>
        </div>

        <!-- Q7 : souhaits -->
        <div class="question-block">
          <div class="question-text">7. Pour tes 16 ans, tu aimerais dÃ©bloquer surtoutâ€¦</div>
          <div class="question-info">Tu peux Ã©crire ce qui te passe par la tÃªte Â· difficultÃ© ğŸŸ£</div>
          <textarea id="wish" placeholder="Exemples : plus de libertÃ©, un projet, un voyage, du temps pour moi, etc."></textarea>
          <div class="helper">Ce texte reste ici. Personne ne le note. Câ€™est juste pour toi.</div>
        </div>

        <!-- Q8 : mini bilan -->
        <div class="question-block" style="margin-top:0.5rem;">
          <div class="question-text">8. Dans tout ce quâ€™on a vu :</div>
          <div class="question-info">Choisis ce qui te donne le plus envie de continuer Ã  apprendre Â· difficultÃ© ğŸŸ£</div>
          <div class="options">
            <label class="option">
              <input type="radio" name="q8" value="jeu">
              <span class="option-emoji">ğŸ®</span>
              <span>Quand on prÃ©sente les choses comme un jeu avec des niveaux.</span>
            </label>
            <label class="option">
              <input type="radio" name="q8" value="histoire">
              <span class="option-emoji">ğŸ“–</span>
              <span>Quand on raconte Ã§a comme une grande histoire.</span>
            </label>
            <label class="option">
              <input type="radio" name="q8" value="reel">
              <span class="option-emoji">ğŸŒ</span>
              <span>Quand Ã§a me sert pour de vrai dans la vie (argent, projets, autonomieâ€¦).</span>
            </label>
          </div>
        </div>

        <!-- Q9 : baromÃ¨tre -->
        <div class="question-block" style="margin-top:0.5rem;">
          <div class="question-text">9. BaromÃ¨tre honnÃªte :</div>
          <div class="question-info">Pour toi, ce petit site câ€™Ã©tait :</div>
          <div class="options">
            <label class="option">
              <input type="radio" name="q9" value="cool">
              <span class="option-emoji">ğŸ˜</span>
              <span>PlutÃ´t cool.</span>
            </label>
            <label class="option">
              <input type="radio" name="q9" value="bof">
              <span class="option-emoji">ğŸ˜</span>
              <span>Ã‡a va, sans plus.</span>
            </label>
            <label class="option">
              <input type="radio" name="q9" value="trop">
              <span class="option-emoji">ğŸ¤¯</span>
              <span>Trop dâ€™infos / trop de blabla.</span>
            </label>
          </div>
          <div class="helper">Tu peux dire ce que tu penses, câ€™est aussi Ã§a â€œ16 ans dÃ©bloquÃ©â€.</div>
        </div>

        <div class="btn-row">
          <button class="btn-ghost btn-small" type="button" data-prev="screen-2">â¬…ï¸ Retour niveau 2</button>
          <button class="btn btn-small" type="button" data-next="screen-final" data-level="3">
            <span class="icon">ğŸ‰</span><span>Terminer la quÃªte</span>
          </button>
        </div>
      </div>
    </section>

    <!-- Ã‰cran final -->
    <section class="screen" id="screen-final">
      <div class="card">
        <div class="card-header">
          <div class="card-title">
            <span class="icon">ğŸŠ</span>
            <span>FÃ©licitations â€“ QuÃªte 16 ans complÃ©tÃ©e</span>
          </div>
        </div>
        <div class="final-title">
          <span>Joyeux anniversaire&nbsp;!</span> ğŸ¥³
        </div>
        <div class="final-subtitle">
          Tu as parcouru les 3 niveaux (mÃªme si tu as passÃ© des questions, ce qui est normal).
          Le simple fait dâ€™Ãªtre arrivÃ© ici, câ€™est dÃ©jÃ  une victoire.
        </div>
        <p>
          Tu nâ€™as pas besoin dâ€™Ãªtre â€œparfaitâ€ pour avoir le droit :
        </p>
        <ul style="margin-left:1.1rem; margin-top:0.2rem;">
          <li>De <strong>choisir ton rythme</strong>.</li>
          <li>De <strong>passer les questions</strong> qui te gonflent.</li>
          <li>De <strong>demander quâ€™on tâ€™explique autrement</strong>.</li>
        </ul>
        <p style="margin-top:0.35rem;">
          Si quelquâ€™un lit Ã§a avec toi (parent, proche, amiÂ·e), vous pouvez Ã©crire un petit
          message pour garder ce moment :
        </p>
        <div class="message-box">
          <div class="message-label">Message spÃ©cial pour toi :</div>
          <textarea class="message-area" placeholder="Ex : â€œOn est fierÂ·es de toi pour ce que tu es, pas pour tes notes.â€"></textarea>
        </div>
        <p style="margin-top:0.4rem; font-size:0.86rem; color:var(--muted);">
          Tu peux garder ce fichier, le modifier, le recopier, en faire ta version.
          Tu peux aussi te fabriquer <strong>tes propres niveaux</strong>, avec tes questions Ã  toi.
        </p>
        <div class="btn-row">
          <button class="btn-ghost btn-small" type="button" data-prev="screen-3">â¬…ï¸ Revoir le niveau 3</button>
          <button class="btn btn-small" type="button" id="btnReplay">
            <span class="icon">ğŸ”</span><span>Rejouer depuis le dÃ©but</span>
          </button>
        </div>
      </div>
    </section>
  </main>
</div>

<div class="toast" id="toast"></div>

<script>
(function() {
  const screens = ["screen-intro","screen-1","screen-2","screen-3","screen-final"];
  let currentIndex = 0;
  let levelsValidated = {1:false,2:false,3:false};
  let animationsSoft = false;

  const appRoot = document.getElementById("appRoot");
  const progressFill = document.getElementById("progressFill");
  const progressText = document.getElementById("progressText");
  const toast = document.getElementById("toast");

  function showScreen(id) {
    screens.forEach(sId => {
      const el = document.getElementById(sId);
      if (!el) return;
      el.classList.toggle("active", sId === id);
    });
    currentIndex = screens.indexOf(id);
    updateProgress();
  }

  function updateProgress() {
    const total = screens.length;
    const step = currentIndex + 1;
    const percent = (step - 1) / (total - 1) * 100;
    progressFill.style.width = percent + "%";
    progressText.textContent = "Ã‰tape " + step + " sur " + total;
  }

  function showToast(message) {
    toast.textContent = message;
    toast.style.display = "block";
    clearTimeout(showToast._timer);
    showToast._timer = setTimeout(() => {
      toast.style.display = "none";
    }, 2200);
  }

  function triggerConfetti() {
    if (animationsSoft) return; // mode calme
    const colors = ["#38bdf8","#22c55e","#f97316","#a855f7","#fde047"];
    for (let i = 0; i < 80; i++) {
      const conf = document.createElement("div");
      conf.className = "confetti";
      const color = colors[Math.floor(Math.random()*colors.length)];
      conf.style.background = color;
      conf.style.left = Math.random()*100 + "vw";
      conf.style.animationDelay = (Math.random()*0.8) + "s";
      conf.style.transform = "rotate(" + (Math.random()*360) + "deg)";
      document.body.appendChild(conf);
      setTimeout(() => conf.remove(), 3100);
    }
  }

  function bindNavButtons() {
    document.querySelectorAll("[data-next]").forEach(btn => {
      btn.addEventListener("click", () => {
        const target = btn.getAttribute("data-next");
        const level = btn.getAttribute("data-level");
        if (level) {
          levelsValidated[level] = true;
          showToast("Niveau " + level + " validÃ©. ğŸ‘");
        }
        if (target === "screen-final") {
          // On y va dÃ¨s que les 3 niveaux ont Ã©tÃ© visitÃ©s (ou forcÃ©s)
          showScreen("screen-final");
          triggerConfetti();
        } else {
          showScreen(target);
        }
      });
    });

    document.querySelectorAll("[data-prev]").forEach(btn => {
      btn.addEventListener("click", () => {
        const target = btn.getAttribute("data-prev");
        showScreen(target);
      });
    });

    document.querySelectorAll("[data-skip]").forEach(btn => {
      btn.addEventListener("click", () => {
        const target = btn.getAttribute("data-skip");
        showToast("Question(s) passÃ©e(s). Câ€™est autorisÃ©. ğŸ™‚");
        showScreen(target);
      });
    });

    const replay = document.getElementById("btnReplay");
    if (replay) {
      replay.addEventListener("click", () => {
        levelsValidated = {1:false,2:false,3:false};
        showScreen("screen-intro");
      });
    }
  }

  function bindComfortToggle() {
    const toggle = document.getElementById("toggleComfort");
    toggle.addEventListener("click", () => {
      appRoot.classList.toggle("comfort-mode");
      const on = appRoot.classList.contains("comfort-mode");
      toggle.querySelector("span.icon").textContent = on ? "ğŸ“–" : "ğŸ§˜â€â™‚ï¸";
      toggle.querySelectorAll("span")[1].textContent = on
        ? "Mode confort : activÃ©"
        : "Mode confort lecture";
      showToast(on ? "Mode confort activÃ© (texte plus lisible)." : "Mode confort dÃ©sactivÃ©.");
    });
  }

  function bindAnimationsToggle() {
    const toggle = document.getElementById("toggleAnimations");
    toggle.addEventListener("click", () => {
      animationsSoft = !animationsSoft;
      if (animationsSoft) {
        toggle.querySelector("span.icon").textContent = "ğŸ˜´";
        toggle.querySelectorAll("span")[1].textContent = "Animations calmÃ©es";
        showToast("Les animations seront plus calmes.");
      } else {
        toggle.querySelector("span.icon").textContent = "ğŸŒ™";
        toggle.querySelectorAll("span")[1].textContent = "Animations normales";
        showToast("Animations normales rÃ©activÃ©es.");
      }
    });
  }

  function bindEnergySlider() {
    const slider = document.getElementById("energy");
    const value = document.getElementById("energyValue");
    if (!slider || !value) return;
    slider.addEventListener("input", () => {
      value.textContent = slider.value;
    });
  }

  function bindChips() {
    const container = document.getElementById("chipsQ6");
    if (!container) return;
    container.querySelectorAll(".chip").forEach(chip => {
      chip.addEventListener("click", () => {
        chip.classList.toggle("selected");
      });
    });
  }

  document.addEventListener("DOMContentLoaded", () => {
    bindNavButtons();
    bindComfortToggle();
    bindAnimationsToggle();
    bindEnergySlider();
    bindChips();
    updateProgress();
  });
})();
</script>
</body>
</html>
