<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Orientation ‚Ä¢ Positionnement de l‚Äôinstance</title>
<style>
  :root {
    --bg: #020617;
    --bg-soft: #020617;
    --text: #e5e7eb;
    --muted: #9ca3af;
    --accent: #38bdf8;
    --accent2: #22c55e;
    --accent-soft: rgba(56,189,248,0.12);
    --border: rgba(31,41,55,0.9);
  }

  * { box-sizing: border-box; }

  body {
    margin: 0;
    background: #000;
    color: var(--text);
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", sans-serif;
  }

  /* SPLASH */

  #splash {
    position: fixed;
    inset: 0;
    background:
      radial-gradient(circle at top, #0b1120 0, #020617 35%, #000 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 32px 18px;
    opacity: 1;
    transition: opacity 0.7s ease;
    z-index: 10;
  }

  #splash-inner {
    width: 100%;
    max-width: 320px;
    text-align: center;
  }

  .logo-wrapper {
    position: relative;
    display: inline-block;
    margin-bottom: 24px;
  }

  .logo-halo {
    position: absolute;
    inset: -18px;
    background: radial-gradient(circle, rgba(56,189,248,0.22), transparent 70%);
    filter: blur(6px);
    opacity: 0;
    transition: opacity 0.8s ease;
  }

  .logo {
    width: 112px;
    height: 112px;
    border-radius: 32px;
    border: 1px solid rgba(148,163,184,0.5);
    background:
      radial-gradient(circle at 15% 0%, rgba(148,163,184,0.25), transparent 60%),
      radial-gradient(circle at 80% 120%, rgba(34,197,94,0.25), transparent 70%),
      #020617;
    box-shadow:
      0 18px 40px rgba(0,0,0,0.75),
      0 0 0 1px rgba(15,23,42,0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--accent);
    font-size: 0.78rem;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    transform: scale(0.8);
    opacity: 0;
    transition:
      opacity 0.85s ease,
      transform 0.85s cubic-bezier(0.16, 1, 0.3, 1);
  }

  #splash.show-logo .logo {
    opacity: 1;
    transform: scale(1);
  }
  #splash.show-logo .logo-halo {
    opacity: 1;
  }

  .logo span { display: block; }
  .logo span.sub {
    font-size: 0.65em;
    color: var(--muted);
    letter-spacing: 0.22em;
  }

  .loading-bar {
    width: 100%;
    max-width: 260px;
    height: 12px;
    border-radius: 999px;
    border: 1px solid rgba(148,163,184,0.55);
    background: rgba(15,23,42,0.95);
    margin: 0 auto;
    overflow: hidden;
  }

  .loading-inner {
    width: 0;
    height: 100%;
    background: linear-gradient(90deg, var(--accent), var(--accent2));
    box-shadow: 0 0 18px rgba(56,189,248,0.7);
  }

  #splash.show-logo .loading-inner {
    animation: loadBar 4.5s ease-out forwards;
  }

  @keyframes loadBar {
    0%   { width: 0; }
    10%  { width: 7%; }
    25%  { width: 22%; }
    45%  { width: 45%; }
    65%  { width: 63%; }
    85%  { width: 82%; }
    100% { width: 100%; }
  }

  .loading-text {
    margin-top: 14px;
    color: var(--muted);
    font-size: 0.8rem;
  }

  .loading-sub {
    margin-top: 4px;
    color: rgba(148,163,184,0.75);
    font-size: 0.7rem;
    letter-spacing: 0.18em;
    text-transform: uppercase;
  }

  .dots::after {
    content: "...";
    animation: dots 1.4s steps(4, end) infinite;
  }
  @keyframes dots {
    0%, 20%   { content: "."; }
    40%       { content: ".."; }
    60%,100%  { content: "..."; }
  }

  /* CONTENU */

  .container {
    width: 100%;
    min-height: 100vh;
    padding: 24px 16px 40px;
    background:
      radial-gradient(circle at top, #020617 0, #020617 38%, #020617 58%, #000 100%);
  }

  @media (min-width: 768px) {
    .container-inner {
      max-width: 760px;
      margin: 0 auto;
    }
  }

  h1 {
    margin: 0 0 8px;
    font-size: 1.1rem;
    display: flex;
    align-items: center;
    gap: 6px;
  }

  h1 span.icon {
    font-size: 1.2rem;
  }

  p {
    margin: 6px 0;
    font-size: 0.86rem;
    line-height: 1.5;
    color: var(--text);
  }

  .muted {
    color: var(--muted);
  }

  .step-label {
    font-size: 0.7rem;
    letter-spacing: 0.24em;
    text-transform: uppercase;
    color: var(--muted);
    margin-bottom: 2px;
  }

  .boot-block {
    margin: 18px 0;
    padding-left: 18px;
    border-left: 1px solid rgba(75,85,99,0.9);
  }

  .line {
    margin: 7px 0;
    opacity: 0;
    transform: translateY(3px);
    font-size: 0.83rem;
  }

  @keyframes appear {
    from {
      opacity: 0;
      transform: translateY(3px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .cursor {
    display: inline-block;
    width: 7px;
    height: 1.05em;
    margin-left: 3px;
    background: var(--accent);
    vertical-align: text-bottom;
    animation: blinkCursor 1s steps(2, start) infinite;
  }
  @keyframes blinkCursor {
    0%, 49%   { opacity: 1; }
    50%, 100% { opacity: 0; }
  }

  #main { display: none; }

  .steps-box {
    margin-top: 8px;
    padding: 10px 12px;
    border-radius: 14px;
    border: 1px solid rgba(55,65,81,0.9);
    background: #020617;
  }

  .steps-title {
    font-size: 0.8rem;
    color: var(--muted);
    margin-bottom: 4px;
  }

  .steps-box ol {
    margin: 0;
    padding-left: 17px;
    font-size: 0.8rem;
    color: var(--muted);
  }

  .grid {
    display: grid;
    gap: 12px;
    margin-top: 10px;
  }
  @media (min-width: 860px) {
    .grid-2 {
      grid-template-columns: 1.25fr 1fr;
    }
  }

  section {
    background: rgba(15,23,42,0.98);
    border-radius: 16px;
    border: 1px solid var(--border);
    padding: 14px 14px 16px;
    box-shadow: 0 18px 40px rgba(0,0,0,0.55);
  }
  section h2 {
    margin: 0 0 4px;
    font-size: 0.95rem;
  }
  section p.small {
    margin: 0 0 8px;
    font-size: 0.8rem;
    color: var(--muted);
  }

  .scale {
    margin: 8px 0 12px;
  }
  .scale-label-row {
    display: flex;
    justify-content: space-between;
    font-size: 0.78rem;
    color: var(--muted);
    margin-bottom: 4px;
  }
  .scale-minmax {
    display: flex;
    justify-content: space-between;
    font-size: 0.74rem;
    color: var(--muted);
    margin-top: 2px;
  }
  input[type="range"] {
    width: 100%;
    -webkit-appearance: none;
    appearance: none;
    height: 6px;
    border-radius: 999px;
    background: #020617;
    outline: none;
    border: 1px solid rgba(55,65,81,0.9);
  }
  input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: var(--accent);
    border: 2px solid #0b1120;
    box-shadow: 0 0 0 4px var(--accent-soft);
  }
  input[type="range"]::-moz-range-thumb {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: var(--accent);
    border: 2px solid #0b1120;
    box-shadow: 0 0 0 4px var(--accent-soft);
  }
  .scale-value {
    margin-top: 4px;
    font-size: 0.78rem;
    color: var(--muted);
    min-height: 1.2em;
  }

  .tag-row {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-top: 2px;
  }
  .tag {
    font-size: 0.7rem;
    padding: 3px 7px;
    border-radius: 999px;
    border: 1px solid rgba(55,65,81,0.8);
    color: var(--muted);
  }

  .choices {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-top: 6px;
  }
  .choice {
    flex: 1 1 100%;
    min-width: 0;
    font-size: 0.8rem;
    padding: 8px 10px;
    border-radius: 12px;
    border: 1px solid rgba(55,65,81,0.95);
    background: #020617;
    color: var(--muted);
    cursor: pointer;
    text-align: left;
  }
  .choice strong {
    color: var(--text);
    display: block;
    margin-bottom: 3px;
  }
  .choice.active {
    border-color: var(--accent);
    background: var(--accent-soft);
    color: var(--accent);
  }
  @media (min-width: 600px) {
    .choice {
      flex: 1 1 calc(50% - 6px);
    }
  }

  .btn-row {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-top: 10px;
  }
  button {
    border-radius: 999px;
    border: 1px solid var(--accent);
    background: var(--accent-soft);
    color: var(--accent);
    padding: 6px 14px;
    font-size: 0.82rem;
    cursor: pointer;
  }
  button.secondary {
    border-color: rgba(55,65,81,0.95);
    background: #020617;
    color: var(--muted);
  }
  button:disabled {
    opacity: 0.55;
    cursor: default;
  }

  .result {
    margin-top: 8px;
    border-radius: 12px;
    border: 1px solid rgba(55,65,81,0.9);
    background: #020617;
    padding: 9px 10px;
    font-size: 0.82rem;
    min-height: 60px;
  }
  .result-title {
    font-size: 0.8rem;
    color: var(--muted);
    margin-bottom: 2px;
  }

  textarea#noteUser {
    margin-top: 8px;
    width: 100%;
    min-height: 68px;
    border-radius: 10px;
    border: 1px solid rgba(55,65,81,0.95);
    background: #020617;
    color: var(--text);
    padding: 7px 9px;
    font-size: 0.82rem;
    resize: vertical;
  }
  .hint {
    margin-top: 6px;
    font-size: 0.75rem;
    color: var(--muted);
  }

  footer {
    margin-top: 18px;
    font-size: 0.72rem;
    color: var(--muted);
    display: flex;
    justify-content: space-between;
    gap: 10px;
    flex-wrap: wrap;
  }
  footer a {
    color: var(--accent);
    text-decoration: none;
    border-bottom: 1px dashed rgba(56,189,248,0.4);
  }
</style>
</head>
<body>

<!-- SPLASH -->
<div id="splash">
  <div id="splash-inner">
    <div class="logo-wrapper">
      <div class="logo-halo"></div>
      <div class="logo">
        <span>BOOT</span>
        <span class="sub">√©tape 2/3</span>
      </div>
    </div>
    <div class="loading-bar">
      <div class="loading-inner" id="loadingBarFill"></div>
    </div>
    <div class="loading-text">
      Initialisation du module Orientation<span class="dots"></span>
    </div>
    <div class="loading-sub">
      world / org / project mapping
    </div>
  </div>
</div>

<!-- CONTENU -->
<div id="main" class="container">
  <div class="container-inner">

    <div class="step-label">√âTAPE 2 / 3 ‚Äî ORIENTATION</div>
    <h1><span class="icon">üß≠</span> O√π te situes-tu dans le Jeu&nbsp;?</h1>

    <div class="boot-block">
      <p class="line" data-delay="0.8s">&gt; Session pr√©c√©dente : FIRST_BOOT.html... <span class="muted">termin√©e</span></p>
      <p class="line" data-delay="1.4s">&gt; Instanciation utilisateur : <span class="muted">en cours</span></p>
      <p class="line" data-delay="2.0s">&gt; Chargement du module ¬´ Orientation ¬ª... <span class="muted">OK</span></p>
      <p class="line" data-delay="2.8s">&gt; Objectif : t‚Äôaider √† comprendre o√π tu te places par rapport au Monde, √† l‚ÄôOrganisation et au Projet.</p>
    </div>

    <p class="line" data-delay="3.6s">
      <strong>Le Jeu</strong> : une simulation de recrutement. Tu joues ton propre r√¥le.
      L‚ÄôOrganisation observe comment tu te situes dans un monde qui ressemble beaucoup au n√¥tre.
    </p>
    <p class="line" data-delay="4.4s">
      <strong>Le Monde</strong> = ce qui t‚Äôentoure (travail, soci√©t√©, actualit√©).<br>
      <strong>L‚ÄôOrganisation</strong> = le r√©seau qui porte ce Jeu et te propose ce test.<br>
      <strong>Le Projet</strong> = l‚Äôintention de fond : mieux comprendre, questionner, am√©liorer ce monde au lieu de juste le subir.
    </p>

    <div class="steps-box line" data-delay="5.2s">
      <div class="steps-title">Sur cette page, tu dois :</div>
      <ol>
        <li>D√©placer les trois curseurs (0&nbsp;=&nbsp;peu / pas du tout, 10&nbsp;=&nbsp;beaucoup).</li>
        <li>Choisir le ¬´ type de place ¬ª qui te ressemble le plus.</li>
        <li>Cliquer sur ¬´ Analyser mon positionnement ¬ª pour g√©n√©rer un r√©sum√©.</li>
        <li>Garder ce r√©sum√© (copier/coller) pour la suite du test.</li>
        <li>Passer √† <code>instance.html</code> pour remplir ta fiche de personnage.</li>
      </ol>
    </div>

    <div class="grid grid-2">

      <section>
        <h2>1. Positionnement sur trois axes</h2>
        <p class="small">
          Les curseurs vont de <strong>0</strong> √† <strong>10</strong>.<br>
          R√©ponds selon ton ressenti, sans chercher la ‚Äúbonne‚Äù r√©ponse.
        </p>

        <div class="scale">
          <div class="scale-label-row">
            <span>Vis-√†-vis du Monde</span>
            <span id="valMonde">5 / 10</span>
          </div>
          <input id="rangeMonde" type="range" min="0" max="10" value="5">
          <div class="scale-minmax">
            <span>0 : je me sens peu concern√©¬∑e</span>
            <span>10 : je suis tr√®s concern√©¬∑e</span>
          </div>
          <div class="scale-value" id="txtMonde"></div>
        </div>

        <div class="scale">
          <div class="scale-label-row">
            <span>Vis-√†-vis de l‚ÄôOrganisation</span>
            <span id="valOrg">5 / 10</span>
          </div>
          <input id="rangeOrg" type="range" min="0" max="10" value="5">
          <div class="scale-minmax">
            <span>0 : je n‚Äôai pas confiance</span>
            <span>10 : je suis pr√™t¬∑e √† coop√©rer</span>
          </div>
          <div class="scale-value" id="txtOrg"></div>
        </div>

        <div class="scale">
          <div class="scale-label-row">
            <span>Vis-√†-vis du Projet</span>
            <span id="valProjet">5 / 10</span>
          </div>
          <input id="rangeProjet" type="range" min="0" max="10" value="5">
          <div class="scale-minmax">
            <span>0 : √ßa ne me parle pas</span>
            <span>10 : j‚Äôai envie d‚Äôy contribuer</span>
          </div>
          <div class="scale-value" id="txtProjet"></div>
        </div>

        <div class="tag-row">
          <div class="tag">Monde : ce qui t‚Äôentoure tous les jours.</div>
          <div class="tag">Organisation : le ¬´ nous ¬ª derri√®re ce test.</div>
          <div class="tag">Projet : ce que tu aimerais voir changer ou prot√©ger.</div>
        </div>
      </section>

      <section>
        <h2>2. Type de place que tu vises</h2>
        <p class="small">
          Choisis la carte qui te ressemble le plus. C‚Äôest une base de discussion, pas une √©tiquette d√©finitive.
        </p>

        <div class="choices" id="choices">
          <button type="button" class="choice" data-role="messager">
            <strong>Messager</strong>
            Tu aimes transmettre, reformuler, faire circuler les infos de fa√ßon claire.
          </button>
          <button type="button" class="choice" data-role="cartographe">
            <strong>Cartographe</strong>
            Tu aimes comprendre comment les choses sont organis√©es, voir les liens cach√©s.
          </button>
          <button type="button" class="choice" data-role="gardien">
            <strong>Gardien de seuil</strong>
            Tu fais attention aux limites : ce qui est acceptable ou non, ce qui d√©borde.
          </button>
          <button type="button" class="choice" data-role="agitateur">
            <strong>Agitateur tranquille</strong>
            Tu aimes poser des questions qui bousculent, faire r√©fl√©chir, sans forc√©ment te mettre au centre.
          </button>
        </div>

        <div class="btn-row">
          <button id="btnAnalyser">Analyser mon positionnement</button>
          <button id="btnCopierSynthese" class="secondary" disabled>Copier la synth√®se</button>
        </div>

        <div class="result" id="result">
          <div class="result-title">R√©sum√© automatique</div>
          <div id="resultBody">
            Une fois que tu as boug√© les curseurs et choisi un r√¥le, clique sur ¬´&nbsp;Analyser mon positionnement&nbsp;¬ª.
          </div>
        </div>

        <label for="noteUser" class="hint">
          Note personnelle (facultatif) :
        </label>
        <textarea id="noteUser" placeholder="Ce que tu retiens de ton positionnement, ce que tu veux dire √† l‚ÄôOrganisation‚Ä¶"></textarea>

        <p class="hint">
          Tu peux copier ce texte et le r√©utiliser dans ta fiche de personnage (<code>instance.html</code>).
        </p>
      </section>

    </div>

    <p class="line" data-delay="8.8s">
      &gt; Quand tu es satisfait¬∑e de ton orientation, passe √† l‚Äô√©tape suivante pour d√©tailler ton profil et r√©pondre au test de recrutement.<span class="cursor"></span>
    </p>

    <footer>
      <span class="muted">√âtape suivante : cr√©er ton personnage complet et r√©pondre aux questions.</span>
      <span><a href="instance.html">‚Üí Continuer vers instance.html (√âtape 3/3)</a></span>
    </footer>

  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const splash = document.getElementById('splash');
    const main   = document.getElementById('main');
    const loadingBarFill = document.getElementById('loadingBarFill');

    setTimeout(() => {
      splash.classList.add('show-logo');
    }, 2000);

    loadingBarFill.addEventListener('animationend', () => {
      splash.style.opacity = '0';
      setTimeout(() => {
        splash.style.display = 'none';
        main.style.display = 'block';
        startBootAnimation();
      }, 700);
    });

    function startBootAnimation() {
      const lines = document.querySelectorAll('.line');
      lines.forEach(line => {
        const delay = line.getAttribute('data-delay') || '0s';
        line.style.animation = 'appear 0.75s ease-out forwards';
        line.style.animationDelay = delay;
      });
    }
  });

  (function () {
    const rangeMonde   = document.getElementById('rangeMonde');
    const rangeOrg     = document.getElementById('rangeOrg');
    const rangeProjet  = document.getElementById('rangeProjet');

    const valMonde     = document.getElementById('valMonde');
    const valOrg       = document.getElementById('valOrg');
    const valProjet    = document.getElementById('valProjet');

    const txtMonde     = document.getElementById('txtMonde');
    const txtOrg       = document.getElementById('txtOrg');
    const txtProjet    = document.getElementById('txtProjet');

    const choicesWrap  = document.getElementById('choices');
    const resultBody   = document.getElementById('resultBody');
    const btnAnalyser  = document.getElementById('btnAnalyser');
    const btnCopier    = document.getElementById('btnCopierSynthese');

    let selectedRole = null;

    function labelForWorld(v) {
      if (v <= 2) return "Tu te sens peu concern√©¬∑e par ce qui se passe dans le monde, ou tu te prot√®ges.";
      if (v <= 4) return "Tu regardes de loin, sans encore te sentir acteur¬∑rice.";
      if (v <= 7) return "Tu te sens concern√©¬∑e et tu fais attention √† ce qui se passe autour de toi.";
      if (v <= 9) return "Tu es tr√®s impliqu√©¬∑e, tu suis de pr√®s les enjeux de soci√©t√©.";
      return "Tu as du mal √† ¬´ d√©crocher ¬ª du monde : tout ce qui se passe te touche fortement.";
    }
    function labelForOrg(v) {
      if (v <= 2) return "Tu te m√©fies des groupes structur√©s, y compris de ce jeu et de ceux qui le proposent.";
      if (v <= 4) return "Tu restes prudent¬∑e : tu joues le jeu, mais avec distance.";
      if (v <= 7) return "Tu es pr√™t¬∑e √† coop√©rer tant que les r√®gles restent claires et respectueuses.";
      if (v <= 9) return "Tu te vois bien participer activement, donner des id√©es, prendre des responsabilit√©s.";
      return "Tu pourrais te projeter tr√®s loin dans cette Organisation, si elle reste align√©e avec tes valeurs.";
    }
    function labelForProjet(v) {
      if (v <= 2) return "Pour l‚Äôinstant, le Projet ne te parle pas ou te laisse sceptique.";
      if (v <= 4) return "Tu es curieux¬∑se mais encore r√©serv√©¬∑e. Tu as besoin de voir concr√®tement √† quoi √ßa sert.";
      if (v <= 7) return "Tu trouves l‚Äôid√©e int√©ressante et tu pourrais t‚Äôy investir un minimum.";
      if (v <= 9) return "Tu te reconnais vraiment dans l‚Äôid√©e du Projet et tu as envie de le pousser.";
      return "Tu te sens quasiment partie prenante du Projet et pr√™t¬∑e √† te battre pour qu‚Äôil avance.";
    }

    function updateScales() {
      const m = parseInt(rangeMonde.value, 10);
      const o = parseInt(rangeOrg.value, 10);
      const p = parseInt(rangeProjet.value, 10);

      valMonde.textContent  = m + " / 10";
      valOrg.textContent    = o + " / 10";
      valProjet.textContent = p + " / 10";

      txtMonde.textContent  = labelForWorld(m);
      txtOrg.textContent    = labelForOrg(o);
      txtProjet.textContent = labelForProjet(p);
    }

    rangeMonde.addEventListener('input', updateScales);
    rangeOrg.addEventListener('input', updateScales);
    rangeProjet.addEventListener('input', updateScales);
    updateScales();

    choicesWrap.addEventListener('click', (e) => {
      const btn = e.target.closest('.choice');
      if (!btn) return;
      const all = choicesWrap.querySelectorAll('.choice');
      all.forEach(c => c.classList.remove('active'));
      btn.classList.add('active');
      selectedRole = btn.getAttribute('data-role');
    });

    function syntheseRole(roleKey) {
      switch (roleKey) {
        case 'messager':
          return "R√¥le pressenti : Messager. Tu pourrais √™tre une personne-relai qui aide √† faire circuler l‚Äôinformation de fa√ßon claire et honn√™te.";
        case 'cartographe':
          return "R√¥le pressenti : Cartographe. Tu pourrais aider √† comprendre comment les choses sont organis√©es et o√π √ßa coince.";
        case 'gardien':
          return "R√¥le pressenti : Gardien de seuil. Tu pourrais veiller aux limites, √† ce qui est acceptable ou non pour le Projet et pour les personnes.";
        case 'agitateur':
          return "R√¥le pressenti : Agitateur tranquille. Tu pourrais poser les bonnes questions, faire bouger les lignes sans forc√©ment √™tre en premi√®re ligne.";
        default:
          return "Aucun r√¥le pr√©cis n‚Äôa √©t√© choisi. C‚Äôest aussi une information : tu pr√©f√®res peut-√™tre garder tes options ouvertes.";
      }
    }

    function generateSynthese() {
      const m = parseInt(rangeMonde.value, 10);
      const o = parseInt(rangeOrg.value, 10);
      const p = parseInt(rangeProjet.value, 10);
      const moyenne = (m + o + p) / 3;

      let tonalite;
      if (moyenne <= 3) {
        tonalite = "Globalement, tu restes en retrait. Tu observes encore avant de d√©cider si tu veux vraiment entrer dans le Jeu.";
      } else if (moyenne <= 6) {
        tonalite = "Tu es dans une position interm√©diaire : assez impliqu√©¬∑e pour comprendre, assez √† distance pour garder du recul.";
      } else {
        tonalite = "Tu es d√©j√† tr√®s impliqu√©¬∑e int√©rieurement. La question devient : comment canaliser cette √©nergie de mani√®re saine.";
      }

      const texteRole = syntheseRole(selectedRole);

      return (
        tonalite + "\n\n" +
        "Par axe :\n" +
        "- Monde : " + labelForWorld(m) + "\n" +
        "- Organisation : " + labelForOrg(o) + "\n" +
        "- Projet : " + labelForProjet(p) + "\n\n" +
        texteRole + "\n\n" +
        "Ce texte est l√† pour t‚Äôaider √† mettre des mots. Tu peux le modifier, le compl√©ter et t‚Äôen servir pour la suite du test (instance.html)."
      );
    }

    btnAnalyser.addEventListener('click', () => {
      const texte = generateSynthese();
      resultBody.innerHTML =
        '<div class="result-title">Hypoth√®se de positionnement :</div>' +
        '<p style="margin:4px 0 0;font-size:0.8rem;white-space:pre-line;">' + texte + '</p>';
      btnCopier.disabled = false;
    });

    btnCopier.addEventListener('click', () => {
      const texte = "# Positionnement dans le Jeu\n\n" + generateSynthese();
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(texte).catch(() => {});
      }
    });
  })();
</script>

</body>
</html>
