<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Cloud de poche ‚Äì Dashboard statique</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #020617;
      --bg-alt: #020617;
      --panel: #020617;
      --accent: #38bdf8;
      --accent-soft: rgba(56,189,248,0.12);
      --accent-strong: #0ea5e9;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --danger: #fb7185;
      --radius-lg: 18px;
      --radius-sm: 10px;
      --border-subtle: 1px solid rgba(148,163,184,0.22);
      --shadow-soft: 0 18px 45px rgba(15,23,42,0.7);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #0b1120 0, #020617 55%, #000 100%);
      color: var(--text);
      display: flex;
      align-items: stretch;
      justify-content: center;
    }

    .app-shell {
      width: 100%;
      max-width: 1320px;
      margin: 18px;
      border-radius: 26px;
      background: radial-gradient(circle at top left, #020617 0, #020617 45%, #020617 100%);
      border: 1px solid rgba(148,163,184,0.28);
      box-shadow: var(--shadow-soft);
      display: flex;
      overflow: hidden;
      position: relative;
      isolation: isolate;
    }

    .orb {
      position: absolute;
      border-radius: 999px;
      filter: blur(22px);
      opacity: 0.6;
      pointer-events: none;
      z-index: -1;
    }
    .orb.blue {
      background: radial-gradient(circle, rgba(56,189,248,0.65), transparent 65%);
      width: 260px; height: 260px;
      top: -40px; left: -40px;
    }
    .orb.pink {
      background: radial-gradient(circle, rgba(244,114,182,0.5), transparent 70%);
      width: 220px; height: 220px;
      bottom: -50px; right: -40px;
    }

    /* SIDEBAR -------------------------------------------------------- */
    .sidebar {
      width: 240px;
      background: linear-gradient(160deg, rgba(15,23,42,0.96), rgba(15,23,42,0.9));
      border-right: var(--border-subtle);
      padding: 16px 14px;
      display: flex;
      flex-direction: column;
      gap: 18px;
      backdrop-filter: blur(18px);
    }

    .logo-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      padding: 6px 6px 8px;
    }

    .logo-mark {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      background: conic-gradient(from 180deg, #38bdf8, #a855f7, #f97316, #22c55e, #38bdf8);
      padding: 2px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .logo-mark-inner {
      width: 100%;
      height: 100%;
      border-radius: inherit;
      background: #020617;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
      font-weight: 700;
      letter-spacing: 0.08em;
      color: var(--accent);
    }

    .logo-text {
      display: flex;
      flex-direction: column;
      gap: 1px;
    }
    .logo-title {
      font-size: 15px;
      font-weight: 600;
      letter-spacing: 0.03em;
    }
    .logo-sub {
      font-size: 11px;
      color: var(--muted);
    }

    .profile-chip {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 4px 8px;
      border-radius: 999px;
      background: rgba(15,23,42,0.95);
      border: 1px solid rgba(148,163,184,0.38);
      font-size: 11px;
    }
    .profile-avatar {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      background: linear-gradient(135deg, #38bdf8, #a855f7);
    }

    .nav-section-title {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.11em;
      color: var(--muted);
      margin: 0 4px 5px;
    }

    .nav-list {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .nav-item {
      display: flex;
      align-items: center;
      gap: 9px;
      padding: 7px 9px;
      border-radius: 999px;
      cursor: pointer;
      font-size: 13px;
      color: var(--muted);
      transition: background 0.12s ease, color 0.12s ease, transform 0.08s ease;
    }
    .nav-item span.label {
      flex: 1;
    }

    .nav-item:hover {
      background: rgba(15,23,42,0.97);
      color: var(--text);
      transform: translateY(-1px);
    }

    .nav-item.active {
      background: var(--accent-soft);
      color: var(--accent-strong);
      font-weight: 500;
    }

    .nav-icon {
      width: 20px; height: 20px;
      border-radius: 8px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
      background: radial-gradient(circle at 0 0, #38bdf8, #0f172a);
    }

    .badge-local {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 3px 7px;
      border-radius: 999px;
      background: rgba(34,197,94,0.08);
      border: 1px solid rgba(34,197,94,0.45);
      color: #4ade80;
      font-size: 10px;
      margin-top: 6px;
    }

    .sidebar-footer {
      margin-top: auto;
      padding-top: 8px;
      border-top: 1px dashed rgba(148,163,184,0.3);
      font-size: 11px;
      color: var(--muted);
    }

    /* MAIN ----------------------------------------------------------- */
    .main {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 16px 18px 16px;
      min-width: 0;
    }

    .topbar {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }

    .topbar-left {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .top-title {
      font-size: 18px;
      font-weight: 600;
      letter-spacing: 0.03em;
    }

    .top-sub {
      font-size: 12px;
      color: var(--muted);
    }

    .top-actions {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 7px 13px;
      font-size: 13px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 7px;
      background: rgba(15,23,42,0.9);
      color: var(--text);
      border: 1px solid rgba(148,163,184,0.4);
      transition: background 0.12s ease, transform 0.08s ease, box-shadow 0.12s ease;
    }
    .btn span.icon { font-size: 14px; }

    .btn:hover {
      background: rgba(15,23,42,1);
      transform: translateY(-1px);
      box-shadow: 0 10px 24px rgba(15,23,42,0.8);
    }
    .btn:active {
      transform: translateY(0);
      box-shadow: none;
    }

    .btn-primary {
      background: radial-gradient(circle at 0 0, #38bdf8, #0ea5e9);
      border-color: rgba(56,189,248,0.4);
      color: #020617;
      font-weight: 500;
      box-shadow: 0 10px 24px rgba(56,189,248,0.36);
    }
    .btn-primary:hover {
      filter: brightness(1.05);
    }

    .btn-ghost {
      background: rgba(15,23,42,0.7);
    }

    .search-global-wrap {
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .search-input-wrap {
      flex: 1;
      position: relative;
    }
    .search-input-wrap input {
      width: 100%;
      padding: 7px 9px 7px 28px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.4);
      background: rgba(15,23,42,0.92);
      color: var(--text);
      font-size: 13px;
      outline: none;
    }
    .search-input-wrap input::placeholder {
      color: #6b7280;
    }
    .search-icon {
      position: absolute;
      left: 9px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 13px;
      color: var(--muted);
      pointer-events: none;
    }

    .tag-pill {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      padding: 3px 9px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.35);
      font-size: 11px;
      color: var(--muted);
    }

    /* TABS ----------------------------------------------------------- */
    .tabs-row {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 10px;
    }

    .tab-pill {
      padding: 6px 11px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.3);
      font-size: 12px;
      color: var(--muted);
      cursor: pointer;
      background: rgba(15,23,42,0.84);
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: background 0.12s ease, color 0.12s ease, transform 0.08s ease;
    }

    .tab-pill span.icon { font-size: 14px; }

    .tab-pill.active {
      background: var(--accent-soft);
      color: var(--accent-strong);
      border-color: rgba(56,189,248,0.6);
      transform: translateY(-1px);
    }

    .tab-panel {
      display: none;
      border-radius: var(--radius-lg);
      padding: 10px;
      border: 1px solid rgba(31,41,55,0.92);
      background: radial-gradient(circle at top, rgba(15,23,42,0.96), #020617 55%);
      min-height: 260px;
    }
    .tab-panel.active { display: block; }

    /* PANEL 1 : FICHIERS LOCAUX ------------------------------------- */
    .file-layout {
      display: flex;
      flex-direction: column;
      gap: 8px;
      height: 100%;
    }

    .file-header-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 11px;
      color: var(--muted);
      padding: 0 2px 2px;
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    .storage-indicator {
      font-size: 11px;
      color: var(--muted);
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .storage-bar {
      width: 80px;
      height: 5px;
      border-radius: 999px;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(148,163,184,0.4);
      overflow: hidden;
    }
    .storage-fill {
      height: 100%;
      width: 10%;
      border-radius: inherit;
      background: linear-gradient(90deg, #22c55e, #eab308, #fb923c);
    }

    .file-table-wrap {
      flex: 1;
      overflow: auto;
      border-radius: var(--radius-sm);
      border: 1px solid rgba(31,41,55,0.95);
      background: radial-gradient(circle at top left, rgba(15,23,42,0.96), rgba(15,23,42,0.88));
      box-shadow: inset 0 0 0 1px rgba(15,23,42,0.96);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
    }
    thead {
      position: sticky;
      top: 0;
      background: rgba(15,23,42,0.98);
      backdrop-filter: blur(10px);
      z-index: 1;
    }
    th, td {
      padding: 7px 10px;
      white-space: nowrap;
      text-align: left;
    }
    th {
      font-size: 11px;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 0.08em;
      border-bottom: 1px solid rgba(55,65,81,0.9);
    }
    tbody tr {
      border-bottom: 1px solid rgba(31,41,55,0.86);
      transition: background 0.1s ease;
    }
    tbody tr:hover {
      background: rgba(15,23,42,0.97);
    }

    .file-name-cell {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .file-icon {
      width: 22px; height: 22px;
      border-radius: 7px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
      color: #e5e7eb;
      background: radial-gradient(circle at 0 0, #38bdf8, #0f172a);
    }

    .file-row-actions {
      display: flex;
      align-items: center;
      gap: 4px;
      justify-content: flex-end;
    }

    .chip {
      font-size: 11px;
      padding: 2px 7px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.4);
      color: var(--muted);
      background: rgba(15,23,42,0.92);
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .btn-icon {
      border-radius: 999px;
      padding: 3px 8px;
      font-size: 12px;
      border: 1px solid rgba(148,163,184,0.4);
      background: rgba(15,23,42,0.92);
      color: var(--muted);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 3px;
      transition: background 0.1s ease, color 0.1s ease, transform 0.08s ease;
    }
    .btn-icon:hover {
      background: rgba(15,23,42,1);
      color: var(--text);
      transform: translateY(-1px);
    }
    .btn-icon.danger:hover {
      color: var(--danger);
      border-color: rgba(248,113,113,0.6);
    }

    .empty-state {
      padding: 18px 14px;
      text-align: center;
      color: var(--muted);
      font-size: 13px;
    }
    .empty-state strong { color: var(--text); }
    .empty-hint {
      margin-top: 8px;
      font-size: 12px;
    }

    /* PANEL 2 : M√âDIAS DISTANTS ------------------------------------- */
    .media-grid {
      display: grid;
      grid-template-columns: minmax(0, 2fr) minmax(0, 1.4fr);
      gap: 10px;
    }

    .panel-card {
      border-radius: var(--radius-sm);
      border: 1px solid rgba(31,41,55,0.95);
      background: radial-gradient(circle at top, rgba(15,23,42,0.96), #020617 70%);
      padding: 8px 9px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .panel-title-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 12px;
      color: var(--muted);
    }

    video {
      width: 100%;
      border-radius: 14px;
      border: 1px solid rgba(15,23,42,0.9);
      background: #000;
      outline: none;
    }

    .media-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 5px 6px;
      border-radius: 10px;
      cursor: pointer;
      border: 1px solid rgba(31,41,55,0.9);
      background: rgba(15,23,42,0.96);
      font-size: 13px;
      transition: background 0.12s ease, transform 0.08s ease;
      text-decoration: none;
      color: inherit;
    }

    .media-item:hover {
      background: rgba(15,23,42,1);
      transform: translateY(-1px);
    }

    .media-thumb {
      width: 42px; height: 42px;
      border-radius: 10px;
      overflow: hidden;
      flex-shrink: 0;
      border: 1px solid rgba(31,41,55,0.9);
      background: #020617;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
    }
    .media-thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .media-text {
      display: flex;
      flex-direction: column;
      gap: 1px;
    }
    .media-title {
      font-size: 13px;
    }
    .media-sub {
      font-size: 11px;
      color: var(--muted);
    }

    /* PANEL 3 : DOCS & LIENS ---------------------------------------- */
    .docs-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 1.6fr);
      gap: 10px;
    }
    .note-area {
      width: 100%;
      min-height: 180px;
      resize: vertical;
      border-radius: 14px;
      border: 1px solid rgba(31,41,55,0.95);
      background: rgba(15,23,42,0.96);
      color: var(--text);
      padding: 8px 10px;
      font-size: 13px;
      outline: none;
      font-family: inherit;
    }

    .icon-link-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 8px;
    }

    .icon-link {
      display: flex;
      flex-direction: column;
      gap: 5px;
      padding: 8px 8px;
      border-radius: 14px;
      border: 1px solid rgba(31,41,55,0.95);
      background: rgba(15,23,42,0.96);
      text-decoration: none;
      color: inherit;
      font-size: 12px;
      transition: background 0.12s ease, transform 0.08s ease, border-color 0.12s ease;
    }
    .icon-link:hover {
      background: rgba(15,23,42,1);
      transform: translateY(-1px);
      border-color: rgba(56,189,248,0.6);
    }

    .icon-link-icon {
      width: 26px; height: 26px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      background: radial-gradient(circle at 0 0, #38bdf8, #0f172a);
    }

    .icon-link-label-main {
      font-size: 12px;
    }
    .icon-link-label-sub {
      font-size: 11px;
      color: var(--muted);
    }

    /* PANEL 4 : BOARD / TODO ---------------------------------------- */
    .board-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: 10px;
    }

    .board-column {
      border-radius: var(--radius-sm);
      border: 1px solid rgba(31,41,55,0.95);
      background: radial-gradient(circle at top, rgba(15,23,42,0.96), #020617 65%);
      padding: 8px 9px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .board-title-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 12px;
      color: var(--muted);
    }

    .board-counter {
      font-size: 11px;
      color: var(--muted);
    }

    .task-list {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-top: 4px;
    }

    .task-card {
      padding: 6px 7px;
      border-radius: 10px;
      border: 1px solid rgba(31,41,55,0.95);
      background: rgba(15,23,42,0.97);
      font-size: 12px;
      display: flex;
      align-items: flex-start;
      gap: 6px;
    }
    .task-body {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }
    .task-text {
      font-size: 12px;
    }
    .task-meta {
      font-size: 10px;
      color: var(--muted);
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .task-tag {
      padding: 1px 6px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.4);
      font-size: 10px;
      color: var(--muted);
    }

    .task-actions {
      display: flex;
      flex-direction: column;
      gap: 3px;
    }

    .task-btn {
      border: none;
      background: rgba(15,23,42,0.9);
      border-radius: 999px;
      padding: 1px 6px;
      font-size: 11px;
      color: var(--muted);
      cursor: pointer;
      border: 1px solid rgba(55,65,81,0.95);
      transition: background 0.12s ease, transform 0.08s ease, color 0.12s ease;
    }
    .task-btn:hover {
      background: rgba(15,23,42,1);
      color: var(--accent-strong);
      transform: translateY(-1px);
    }
    .task-btn.delete:hover {
      color: var(--danger);
      border-color: rgba(248,113,113,0.7);
    }

    .add-task-row {
      display: flex;
      gap: 6px;
      margin-top: 4px;
    }
    .add-task-input {
      flex: 1;
      border-radius: 999px;
      border: 1px solid rgba(55,65,81,0.95);
      background: rgba(15,23,42,0.96);
      color: var(--text);
      padding: 4px 8px;
      font-size: 12px;
      outline: none;
    }
    .add-task-btn {
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.5);
      background: rgba(15,23,42,0.96);
      color: var(--muted);
      padding: 3px 7px;
      font-size: 12px;
      cursor: pointer;
      transition: background 0.12s ease, transform 0.08s ease, color 0.12s ease;
    }
    .add-task-btn:hover {
      background: rgba(15,23,42,1);
      color: var(--accent-strong);
      transform: translateY(-1px);
    }

    /* RESPONSIVE ----------------------------------------------------- */
    @media (max-width: 980px) {
      .media-grid,
      .docs-grid {
        grid-template-columns: minmax(0,1fr);
      }
      .board-grid {
        grid-template-columns: repeat(2, minmax(0,1fr));
      }
    }

    @media (max-width: 820px) {
      .app-shell {
        flex-direction: column;
        margin: 8px;
      }
      .sidebar {
        width: 100%;
        flex-direction: row;
        align-items: center;
        overflow-x: auto;
      }
      .sidebar-footer {
        display: none;
      }
    }

    @media (max-width: 640px) {
      .topbar {
        flex-direction: column;
        align-items: flex-start;
        gap: 6px;
      }
      .top-actions {
        align-self: stretch;
      }
      .board-grid {
        grid-template-columns: minmax(0,1fr);
      }
      th:nth-child(3), th:nth-child(4),
      td:nth-child(3), td:nth-child(4) {
        display: none;
      }
    }
  </style>
</head>
<body>
  <div class="app-shell">
    <div class="orb blue"></div>
    <div class="orb pink"></div>

    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="logo-row">
        <div class="logo-mark">
          <div class="logo-mark-inner">CL</div>
        </div>
        <div class="logo-text">
          <div class="logo-title">Cloud de poche</div>
          <div class="logo-sub">HTML / CSS / JS ‚Äì offline first</div>
        </div>
        <div class="profile-chip">
          <div class="profile-avatar"></div>
          <span>local only</span>
        </div>
      </div>

      <div>
        <div class="nav-section-title">Vue globale</div>
        <div class="nav-list">
          <div class="nav-item active">
            <div class="nav-icon">üìä</div>
            <span class="label">Dashboard</span>
          </div>
          <div class="nav-item">
            <div class="nav-icon">‚òÅÔ∏è</div>
            <span class="label">Fichiers locaux</span>
          </div>
          <div class="nav-item">
            <div class="nav-icon">üé¨</div>
            <span class="label">M√©dias distants</span>
          </div>
          <div class="nav-item">
            <div class="nav-icon">üìö</div>
            <span class="label">Docs &amp; liens</span>
          </div>
          <div class="nav-item">
            <div class="nav-icon">üìã</div>
            <span class="label">Board / TODO</span>
          </div>
        </div>
      </div>

      <div class="sidebar-footer">
        <div>Tout tourne dans ton navigateur.</div>
        <div class="badge-local">
          <span>üîí</span><span>Donn√©es stock√©es en localStorage</span>
        </div>
      </div>
    </aside>

    <!-- MAIN -->
    <main class="main">
      <header class="topbar">
        <div class="topbar-left">
          <div class="top-title">Espace de travail connect√© (statique)</div>
          <div class="top-sub">
            Cloud de poche : fichiers locaux, m√©dias distants, liens de travail et board, dans un seul index.html.
          </div>
        </div>
        <div class="top-actions">
          <button class="btn btn-ghost" id="btn-focus-notes">
            <span class="icon">üìù</span>
            <span>Aller aux notes</span>
          </button>
          <button class="btn btn-primary" id="btn-focus-files">
            <span class="icon">‚¨ÜÔ∏è</span>
            <span>Ajouter des fichiers</span>
          </button>
        </div>
        <input type="file" id="file-input" multiple style="display:none" />
      </header>

      <section class="search-global-wrap">
        <div class="search-input-wrap">
          <span class="search-icon">üîç</span>
          <input type="search" id="search-files" placeholder="Recherche dans les noms de fichiers locaux‚Ä¶" />
        </div>
        <span class="tag-pill">
          <span>‚ö°</span>
          <span>Statique, portable, partageable sur cl√© USB</span>
        </span>
      </section>

      <!-- TABS -->
      <div class="tabs-row">
        <button class="tab-pill active" data-tab="tab-files">
          <span class="icon">‚òÅÔ∏è</span>
          <span>Fichiers locaux</span>
        </button>
        <button class="tab-pill" data-tab="tab-media">
          <span class="icon">üé¨</span>
          <span>M√©dias distants</span>
        </button>
        <button class="tab-pill" data-tab="tab-docs">
          <span class="icon">üìö</span>
          <span>Docs &amp; liens</span>
        </button>
        <button class="tab-pill" data-tab="tab-board">
          <span class="icon">üìã</span>
          <span>Board / TODO</span>
        </button>
      </div>

      <!-- TAB 1 : FICHIERS LOCAUX -->
      <section class="tab-panel active" id="tab-files">
        <div class="file-layout" id="drop-zone">
          <div class="file-header-row">
            <span>Fichiers stock√©s en localStorage</span>
            <div class="storage-indicator">
              <div class="storage-bar">
                <div class="storage-fill" id="storage-fill"></div>
              </div>
              <span id="storage-label">~0 o utilis√©s</span>
              <span id="file-count-label">0 fichier</span>
            </div>
          </div>

          <div style="display:flex; justify-content:flex-end; gap:6px; font-size:11px; color:var(--muted); margin:0 2px 4px;">
            <span>Drag &amp; drop ici ou</span>
            <button class="btn-icon" id="btn-upload-inline">
              <span>‚¨ÜÔ∏è</span><span>Ajouter</span>
            </button>
            <button class="btn-icon danger" id="btn-clear">
              <span>üßπ</span><span>Vider</span>
            </button>
          </div>

          <div class="file-table-wrap">
            <table>
              <thead>
                <tr>
                  <th>Nom</th>
                  <th>Taille</th>
                  <th>Modifi√©</th>
                  <th>Type</th>
                  <th style="text-align:right">Actions</th>
                </tr>
              </thead>
              <tbody id="file-body">
              </tbody>
            </table>
            <div class="empty-state" id="empty-state">
              <div><strong>Aucun fichier pour l‚Äôinstant.</strong></div>
              <div class="empty-hint">
                Utilise le bouton <strong>Ajouter</strong> ou glisse-d√©pose ici.<br />
                Tout reste dans <em>localStorage</em>, donc sur ta machine.
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- TAB 2 : MEDIAS DISTANTS -->
      <section class="tab-panel" id="tab-media">
        <div class="media-grid">
          <!-- VIDEO -->
          <div class="panel-card">
            <div class="panel-title-row">
              <span>Vid√©o de travail (placeholder)</span>
              <span style="font-size:11px; color:var(--muted);">source : dl.ouaisfi.eu</span>
            </div>
            <video controls preload="metadata"
              src="https://dl.ouaisfi.eu/Vid%C3%A9os/videoplayback.mp4">
              Votre navigateur ne supporte pas la balise &lt;video&gt;.
            </video>
            <div style="font-size:11px; color:var(--muted); display:flex; justify-content:space-between; gap:6px; flex-wrap:wrap;">
              <span>Tu peux remplacer l‚ÄôURL de la vid√©o dans le code par n‚Äôimporte quelle autre ressource.</span>
              <a class="btn-icon" href="https://dl.ouaisfi.eu/Vid%C3%A9os/videoplayback.mp4" target="_blank" rel="noreferrer">
                üîó<span>Ouvrir dans un onglet</span>
              </a>
            </div>
          </div>

          <!-- IMAGES & DOCS -->
          <div class="panel-card">
            <div class="panel-title-row">
              <span>M√©dias et docs rapides</span>
              <span style="font-size:11px; color:var(--muted);">√† relier √† ton infra</span>
            </div>

            <a class="media-item" href="https://dl.ouaisfi.eu/images/Alain%20Stouk.png" target="_blank" rel="noreferrer">
              <div class="media-thumb">
                <img src="https://dl.ouaisfi.eu/images/Alain%20Stouk.png" alt="Alain Stouk" />
              </div>
              <div class="media-text">
                <div class="media-title">Portrait placeholder</div>
                <div class="media-sub">https://dl.ouaisfi.eu/images/Alain Stouk.png</div>
              </div>
            </a>

            <!-- EXEMPLE DE LIEN DOC ‚Äì MODIFIE L'HREF -->
            <a class="media-item" href="#" target="_blank" rel="noreferrer">
              <div class="media-thumb">
                üìÑ
              </div>
              <div class="media-text">
                <div class="media-title">Document de travail 1</div>
                <div class="media-sub">remplace # par ton lien (Nextcloud, pad, PDF‚Ä¶)</div>
              </div>
            </a>

            <a class="media-item" href="#" target="_blank" rel="noreferrer">
              <div class="media-thumb">
                üìÑ
              </div>
              <div class="media-text">
                <div class="media-title">Document de travail 2</div>
                <div class="media-sub">pareil, tu branches o√π tu veux</div>
              </div>
            </a>

            <div style="font-size:11px; color:var(--muted); margin-top:4px;">
              Duplique les blocs <code>.media-item</code> et change l‚Äôicone / le texte / l‚ÄôURL.<br />
              √áa te fait un ‚Äúdock‚Äù de m√©dias / docs reli√©s √† ton √©cosyst√®me.
            </div>
          </div>
        </div>
      </section>

      <!-- TAB 3 : DOCS & LIENS -->
      <section class="tab-panel" id="tab-docs">
        <div class="docs-grid">
          <div class="panel-card">
            <div class="panel-title-row">
              <span>Bloc-notes (sauv√© en local)</span>
              <span style="font-size:11px; color:var(--muted);">localStorage ‚Äì pas de serveur</span>
            </div>
            <textarea id="notes-area" class="note-area"
              placeholder="Notes de r√©union, d√©cisions, liens importants‚Ä¶&#10;Tout ce que tu √©cris ici reste sur cette machine (localStorage)."></textarea>
          </div>

          <div class="panel-card">
            <div class="panel-title-row">
              <span>Raccourcis cliquables</span>
              <span style="font-size:11px; color:var(--muted);">mets tes liens Nextcloud, pads, etc.</span>
            </div>
            <div class="icon-link-grid">
              <!-- Tu changes juste les href et les labels -->
              <a class="icon-link" href="#" target="_blank" rel="noreferrer">
                <div class="icon-link-icon">‚òÅÔ∏è</div>
                <div class="icon-link-label-main">Cloud principal</div>
                <div class="icon-link-label-sub">remplace # par ton Nextcloud officiel</div>
              </a>

              <a class="icon-link" href="#" target="_blank" rel="noreferrer">
                <div class="icon-link-icon">üìù</div>
                <div class="icon-link-label-main">Pad / √©diteur collaboratif</div>
                <div class="icon-link-label-sub">vers un pad ou √©diteur synchronis√©</div>
              </a>

              <a class="icon-link" href="#" target="_blank" rel="noreferrer">
                <div class="icon-link-icon">üí¨</div>
                <div class="icon-link-label-main">Chat / messagerie</div>
                <div class="icon-link-label-sub">Matrix, XMPP, autre‚Ä¶</div>
              </a>

              <a class="icon-link" href="#" target="_blank" rel="noreferrer">
                <div class="icon-link-icon">üìä</div>
                <div class="icon-link-label-main">Tableaux &amp; budgets</div>
                <div class="icon-link-label-sub">sheet, framacalc, whatever</div>
              </a>

              <!-- Tu peux dupliquer √ßa √† l‚Äôinfini -->
            </div>
          </div>
        </div>
      </section>

      <!-- TAB 4 : BOARD / TODO -->
      <section class="tab-panel" id="tab-board">
        <div class="board-grid">
          <div class="board-column" data-col="inbox">
            <div class="board-title-row">
              <span>Inbox</span>
              <span class="board-counter" id="count-inbox">0</span>
            </div>
            <div class="task-list" id="list-inbox"></div>
            <div class="add-task-row">
              <input class="add-task-input" data-input="inbox" type="text" placeholder="Nouvelle t√¢che‚Ä¶" />
              <button class="add-task-btn" data-add="inbox">+</button>
            </div>
          </div>

          <div class="board-column" data-col="doing">
            <div class="board-title-row">
              <span>En cours</span>
              <span class="board-counter" id="count-doing">0</span>
            </div>
            <div class="task-list" id="list-doing"></div>
            <div class="add-task-row">
              <input class="add-task-input" data-input="doing" type="text" placeholder="Nouvelle t√¢che‚Ä¶" />
              <button class="add-task-btn" data-add="doing">+</button>
            </div>
          </div>

          <div class="board-column" data-col="done">
            <div class="board-title-row">
              <span>Fait</span>
              <span class="board-counter" id="count-done">0</span>
            </div>
            <div class="task-list" id="list-done"></div>
            <div class="add-task-row">
              <input class="add-task-input" data-input="done" type="text" placeholder="Nouvelle t√¢che‚Ä¶" />
              <button class="add-task-btn" data-add="done">+</button>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
    // ================== FICHIERS LOCAUX  =======================
    const STORAGE_KEY_FILES = "cloud_de_poche_files_v1";
    /** @typedef {{
     *  id:string, name:string, size:number, type:string, modified:number, dataUrl:string
     * }} StoredFile
     */
    /** @type {StoredFile[]} */
    let files = [];

    const fileBody = document.getElementById("file-body");
    const emptyState = document.getElementById("empty-state");
    const fileCountLabel = document.getElementById("file-count-label");
    const storageFill = document.getElementById("storage-fill");
    const storageLabel = document.getElementById("storage-label");
    const searchFilesInput = document.getElementById("search-files");
    const dropZone = document.getElementById("drop-zone");
    const fileInput = document.getElementById("file-input");

    function loadFiles() {
      try {
        const raw = localStorage.getItem(STORAGE_KEY_FILES);
        if (!raw) { files = []; return; }
        const parsed = JSON.parse(raw);
        files = Array.isArray(parsed) ? parsed : [];
      } catch (e) {
        console.warn("Erreur de parsing localStorage", e);
        files = [];
      }
    }

    function saveFiles() {
      try {
        localStorage.setItem(STORAGE_KEY_FILES, JSON.stringify(files));
      } catch (e) {
        alert("Impossible de sauver plus de fichiers (quota localStorage atteint ?).");
      }
      updateStorageIndicator();
    }

    function formatSize(bytes) {
      if (!bytes) return "0 o";
      const units = ["o", "Ko", "Mo", "Go"];
      const step = 1024;
      const i = Math.floor(Math.log(bytes) / Math.log(step));
      const value = bytes / Math.pow(step, i);
      return value.toFixed(value >= 10 ? 0 : 1).replace(".", ",") + " " + units[i];
    }

    function formatDate(ts) {
      const d = new Date(ts);
      return d.toLocaleString();
    }

    function iconForType(type, name) {
      const lower = (type || "").toLowerCase();
      const ext = (name.split(".").pop() || "").toLowerCase();
      if (lower.startsWith("image/")) return "üñº";
      if (lower.startsWith("video/")) return "üéû";
      if (lower.startsWith("audio/")) return "üéµ";
      if (lower === "application/pdf" || ext === "pdf") return "üìÑ";
      if (ext === "zip" || ext === "rar" || ext === "7z") return "üóú";
      if (ext === "txt" || ext === "md") return "üìÑ";
      if (["html","css","js","ts","json"].includes(ext)) return "üß©";
      return "üìÅ";
    }

    function updateStorageIndicator() {
      const totalBytes = files.reduce((sum, f) => sum + (f.size || 0), 0);
      const approxLimit = 5 * 1024 * 1024; // ~5Mo approximatif
      const ratio = Math.min(1, totalBytes / approxLimit);
      storageFill.style.width = (ratio * 100 || 3) + "%";
      storageLabel.textContent = "~" + formatSize(totalBytes) + " utilis√©s";
    }

    function renderFiles() {
      const filter = (searchFilesInput.value || "").toLowerCase().trim();
      fileBody.innerHTML = "";

      const visibleFiles = files.filter((f) =>
        f.name.toLowerCase().includes(filter)
      );

      emptyState.style.display = visibleFiles.length === 0 ? "block" : "none";

      visibleFiles
        .slice()
        .sort((a, b) => b.modified - a.modified)
        .forEach((file) => {
          const tr = document.createElement("tr");

          const tdName = document.createElement("td");
          const nameWrap = document.createElement("div");
          nameWrap.className = "file-name-cell";
          const icon = document.createElement("div");
          icon.className = "file-icon";
          icon.textContent = iconForType(file.type, file.name);
          const nameBtn = document.createElement("button");
          nameBtn.textContent = file.name;
          Object.assign(nameBtn.style, {
            background: "none",
            border: "none",
            color: "inherit",
            cursor: "pointer",
            padding: "0",
            font: "inherit",
          });
          nameBtn.addEventListener("click", () => downloadFile(file));
          nameWrap.appendChild(icon);
          nameWrap.appendChild(nameBtn);
          tdName.appendChild(nameWrap);
          tr.appendChild(tdName);

          const tdSize = document.createElement("td");
          tdSize.textContent = formatSize(file.size || 0);
          tr.appendChild(tdSize);

          const tdMod = document.createElement("td");
          tdMod.textContent = formatDate(file.modified);
          tr.appendChild(tdMod);

          const tdType = document.createElement("td");
          const chip = document.createElement("span");
          chip.className = "chip";
          chip.textContent = file.type || "inconnu";
          tdType.appendChild(chip);
          tr.appendChild(tdType);

          const tdActions = document.createElement("td");
          tdActions.style.textAlign = "right";
          const actionsWrap = document.createElement("div");
          actionsWrap.className = "file-row-actions";

          const btnRename = document.createElement("button");
          btnRename.className = "btn-icon";
          btnRename.innerHTML = "‚úèÔ∏è <span>Renommer</span>";
          btnRename.addEventListener("click", () => renameFile(file.id));

          const btnDelete = document.createElement("button");
          btnDelete.className = "btn-icon danger";
          btnDelete.innerHTML = "üóë <span>Supprimer</span>";
          btnDelete.addEventListener("click", () => deleteFile(file.id));

          actionsWrap.appendChild(btnRename);
          actionsWrap.appendChild(btnDelete);
          tdActions.appendChild(actionsWrap);
          tr.appendChild(tdActions);

          fileBody.appendChild(tr);
        });

      const count = files.length;
      fileCountLabel.textContent = count + " fichier" + (count > 1 ? "s" : "");
      updateStorageIndicator();
    }

    function downloadFile(file) {
      try {
        const a = document.createElement("a");
        a.href = file.dataUrl;
        a.download = file.name;
        document.body.appendChild(a);
        a.click();
        a.remove();
      } catch (e) {
        alert("Impossible de lancer le t√©l√©chargement dans ce navigateur.");
      }
    }

    function renameFile(id) {
      const file = files.find((f) => f.id === id);
      if (!file) return;
      const newName = prompt("Nouveau nom de fichier :", file.name);
      if (!newName || newName.trim() === "") return;
      file.name = newName.trim();
      file.modified = Date.now();
      saveFiles();
      renderFiles();
    }

    function deleteFile(id) {
      if (!confirm("Supprimer ce fichier du mini-cloud local ?")) return;
      files = files.filter((f) => f.id !== id);
      saveFiles();
      renderFiles();
    }

    async function handleFiles(fileList) {
      const arr = Array.from(fileList);
      for (const file of arr) {
        await addSingleFile(file);
      }
      saveFiles();
      renderFiles();
    }

    function addSingleFile(file) {
      return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.onload = () => {
          const dataUrl = reader.result;
          const storedFile = {
            id: "f_" + Date.now() + "_" + Math.random().toString(16).slice(2),
            name: file.name,
            size: file.size,
            type: file.type,
            modified: file.lastModified || Date.now(),
            dataUrl,
          };
          files.push(storedFile);
          resolve();
        };
        reader.onerror = (e) => reject(e);
        reader.readAsDataURL(file);
      });
    }

    // Upload buttons
    document.getElementById("btn-focus-files").addEventListener("click", () => {
      switchTab("tab-files");
      fileInput.click();
    });
    document.getElementById("btn-upload-inline").addEventListener("click", () => {
      fileInput.click();
    });
    fileInput.addEventListener("change", (e) => {
      const target = e.target;
      if (!target.files || !target.files.length) return;
      handleFiles(target.files);
      target.value = "";
    });

    document.getElementById("btn-clear").addEventListener("click", () => {
      if (!confirm("Vider tous les fichiers locaux ?")) return;
      files = [];
      localStorage.removeItem(STORAGE_KEY_FILES);
      renderFiles();
    });

    searchFilesInput.addEventListener("input", () => renderFiles());

    // Drag & drop
    ["dragenter", "dragover"].forEach((evtName) => {
      dropZone.addEventListener(
        evtName,
        (e) => {
          e.preventDefault();
          e.stopPropagation();
          dropZone.style.borderColor = "rgba(56,189,248,0.8)";
        },
        false
      );
    });
    ["dragleave", "drop"].forEach((evtName) => {
      dropZone.addEventListener(
        evtName,
        (e) => {
          e.preventDefault();
          e.stopPropagation();
          dropZone.style.borderColor = "rgba(31,41,55,0.95)";
        },
        false
      );
    });
    dropZone.addEventListener("drop", (e) => {
      const dt = e.dataTransfer;
      const fileList = dt && dt.files;
      if (fileList && fileList.length) handleFiles(fileList);
    });

    // ================== NOTES / DOCS  ==========================
    const STORAGE_KEY_NOTES = "cloud_de_poche_notes_v1";
    const notesArea = document.getElementById("notes-area");
    function loadNotes() {
      const raw = localStorage.getItem(STORAGE_KEY_NOTES);
      if (raw != null) notesArea.value = raw;
    }
    function saveNotes() {
      localStorage.setItem(STORAGE_KEY_NOTES, notesArea.value || "");
    }
    notesArea.addEventListener("input", () => {
      // pas besoin de throttle ici, c‚Äôest local
      saveNotes();
    });

    document.getElementById("btn-focus-notes").addEventListener("click", () => {
      switchTab("tab-docs");
      notesArea.focus();
    });

    // ================== BOARD / TODO  ==========================
    const STORAGE_KEY_BOARD = "cloud_de_poche_board_v1";
    /** @typedef {{ id:string, text:string, col:"inbox"|"doing"|"done", created:number }} BoardTask */
    /** @type {BoardTask[]} */
    let tasks = [];

    function loadBoard() {
      try {
        const raw = localStorage.getItem(STORAGE_KEY_BOARD);
        if (!raw) { tasks = []; return; }
        const parsed = JSON.parse(raw);
        tasks = Array.isArray(parsed) ? parsed : [];
      } catch (e) {
        console.warn("Board parse error", e);
        tasks = [];
      }
    }
    function saveBoard() {
      localStorage.setItem(STORAGE_KEY_BOARD, JSON.stringify(tasks));
    }

    function renderBoard() {
      ["inbox","doing","done"].forEach((col) => {
        const listEl = document.getElementById("list-" + col);
        const counterEl = document.getElementById("count-" + col);
        listEl.innerHTML = "";
        const colTasks = tasks.filter((t) => t.col === col);
        counterEl.textContent = colTasks.length;

        colTasks
          .slice()
          .sort((a,b) => a.created - b.created)
          .forEach((t) => {
            const card = document.createElement("div");
            card.className = "task-card";

            const dot = document.createElement("div");
            dot.textContent = col === "done" ? "‚úÖ" : col === "doing" ? "‚è≥" : "üì•";
            dot.style.marginTop = "2px";

            const body = document.createElement("div");
            body.className = "task-body";
            const textEl = document.createElement("div");
            textEl.className = "task-text";
            textEl.textContent = t.text;
            const meta = document.createElement("div");
            meta.className = "task-meta";
            const dateTag = document.createElement("span");
            dateTag.textContent = new Date(t.created).toLocaleString();
            const colTag = document.createElement("span");
            colTag.className = "task-tag";
            colTag.textContent =
              col === "inbox" ? "√Ä trier" :
              col === "doing" ? "En cours" : "Termin√©";
            meta.appendChild(dateTag);
            meta.appendChild(colTag);
            body.appendChild(textEl);
            body.appendChild(meta);

            const actions = document.createElement("div");
            actions.className = "task-actions";

            const moveBtn = document.createElement("button");
            moveBtn.className = "task-btn";
            let nextCol;
            if (col === "inbox") {
              moveBtn.textContent = "‚Üí en cours";
              nextCol = "doing";
            } else if (col === "doing") {
              moveBtn.textContent = "‚Üí fait";
              nextCol = "done";
            } else {
              moveBtn.textContent = "‚Ü©Ô∏é inbox";
              nextCol = "inbox";
            }
            moveBtn.addEventListener("click", () => {
              t.col = nextCol;
              saveBoard();
              renderBoard();
            });

            const delBtn = document.createElement("button");
            delBtn.className = "task-btn delete";
            delBtn.textContent = "‚úï";
            delBtn.addEventListener("click", () => {
              tasks = tasks.filter((x) => x.id !== t.id);
              saveBoard();
              renderBoard();
            });

            actions.appendChild(moveBtn);
            actions.appendChild(delBtn);
            card.appendChild(dot);
            card.appendChild(body);
            card.appendChild(actions);
            listEl.appendChild(card);
          });
      });
    }

    document.querySelectorAll(".add-task-btn").forEach((btn) => {
      btn.addEventListener("click", () => {
        const col = btn.dataset.add;
        const input = document.querySelector('.add-task-input[data-input="'+col+'"]');
        if (!input) return;
        const text = input.value.trim();
        if (!text) return;
        const task = {
          id: "t_" + Date.now() + "_" + Math.random().toString(16).slice(2),
          text,
          col,
          created: Date.now(),
        };
        tasks.push(task);
        input.value = "";
        saveBoard();
        renderBoard();
      });
    });

    document.querySelectorAll(".add-task-input").forEach((input) => {
      input.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          e.preventDefault();
          const col = input.dataset.input;
          const btn = document.querySelector('.add-task-btn[data-add="'+col+'"]');
          if (btn) btn.click();
        }
      });
    });

    // ================== TABS / NAV  =============================
    const tabButtons = document.querySelectorAll(".tab-pill");
    const tabPanels = document.querySelectorAll(".tab-panel");
    function switchTab(tabId) {
      tabButtons.forEach((btn) => {
        btn.classList.toggle("active", btn.dataset.tab === tabId);
      });
      tabPanels.forEach((panel) => {
        panel.classList.toggle("active", panel.id === tabId);
      });
    }

    tabButtons.forEach((btn) => {
      btn.addEventListener("click", () => {
        const tabId = btn.dataset.tab;
        if (!tabId) return;
        switchTab(tabId);
      });
    });

    // Sidebar nav (pour l‚Äôinstant on se contente d‚Äôactiver visuel + quelques raccourcis)
    const sidebarItems = document.querySelectorAll(".nav-item");
    sidebarItems.forEach((item, index) => {
      item.addEventListener("click", () => {
        sidebarItems.forEach((i) => i.classList.remove("active"));
        item.classList.add("active");
        // mapping simple
        if (index === 1) switchTab("tab-files");
        if (index === 2) switchTab("tab-media");
        if (index === 3) switchTab("tab-docs");
        if (index === 4) switchTab("tab-board");
      });
    });

    // ================== INIT  ==================================
    loadFiles();
    renderFiles();
    loadNotes();
    loadBoard();
    renderBoard();
  </script>
</body>
</html>
