<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>NE-PAS-TAPER-CE-MOT ¬∑ m√©ta-moteur de tout ce qu‚Äôon a vu</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Baloo+2:wght@500;600&display=swap" rel="stylesheet" />

  <style>
    :root {
      --bg: #020617;
      --fg: #e5e7eb;
      --muted: #9ca3af;
      --accent: #38bdf8;
      --accent-soft: rgba(56,189,248,0.18);
      --accent-2: #22c55e;
      --accent-2-soft: rgba(34,197,94,0.2);
      --danger: #fb7185;
      --danger-soft: rgba(248,113,113,0.18);
      --border: #1f2937;
      --card: #020617;
      --card-alt: #020617;
      --radius: 18px;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      min-height: 100vh;
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background:
        radial-gradient(circle at top, #0f172a 0, #020617 45%),
        radial-gradient(circle at bottom, #020617 0, #000 65%);
      color: var(--fg);
      -webkit-font-smoothing: antialiased;
      padding: 1.2rem 1rem;
      display: flex;
      justify-content: center;
    }

    main {
      max-width: 960px;
      width: 100%;
      margin: auto;
    }

    .shell {
      background:
        radial-gradient(circle at top left, rgba(56,189,248,0.16), transparent 58%),
        radial-gradient(circle at bottom right, rgba(34,197,94,0.15), transparent 60%),
        var(--card);
      border-radius: 26px;
      border: 1px solid rgba(15,23,42,1);
      box-shadow:
        0 26px 80px rgba(15,23,42,0.95),
        0 0 0 1px rgba(15,23,42,0.9);
      padding: 1.2rem 1.3rem 1.1rem;
    }

    header {
      text-align: center;
      margin-bottom: 0.9rem;
    }

    .logo {
      font-family: "Baloo 2", cursive;
      font-size: clamp(1.9rem, 4vw + 1rem, 2.6rem);
      letter-spacing: 0.03em;
      margin-bottom: 0.2rem;
    }

    .logo span:nth-child(1) { color: #38bdf8; }
    .logo span:nth-child(2) { color: #fbbf24; }
    .logo span:nth-child(3) { color: #22c55e; }
    .logo span:nth-child(4) { color: #f97316; }

    .subtitle {
      font-size: 0.9rem;
      color: var(--muted);
    }

    .subtitle strong {
      color: #e5e7eb;
      font-weight: 500;
    }

    /* Barre de recherche */

    .search-shell {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 1rem;
      margin-bottom: 0.8rem;
    }

    .search-box {
      width: 100%;
      max-width: 560px;
      display: flex;
      align-items: center;
      gap: 0.45rem;
      background: rgba(15,23,42,0.95);
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.6);
      padding: 0.4rem 0.6rem;
      box-shadow: 0 16px 40px rgba(15,23,42,0.9);
    }

    .search-icon {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      background: radial-gradient(circle at top, var(--accent-soft), #020617);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: var(--accent);
      font-size: 1.05rem;
      flex-shrink: 0;
    }

    #searchInput {
      flex: 1;
      border: none;
      background: transparent;
      color: var(--fg);
      font-size: 0.95rem;
      padding: 0.25rem 0.1rem;
      outline: none;
    }

    #searchInput::placeholder {
      color: rgba(148,163,184,0.9);
    }

    .search-warning {
      margin-top: 0.35rem;
      font-size: 0.76rem;
      color: var(--muted);
    }

    .search-warning strong {
      color: var(--danger);
    }

    .search-buttons {
      margin-top: 0.6rem;
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      justify-content: center;
    }

    .btn {
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.9);
      background: rgba(15,23,42,0.96);
      color: var(--fg);
      font-size: 0.82rem;
      padding: 0.35rem 0.9rem;
      cursor: pointer;
    }

    .btn-primary {
      border-color: var(--accent);
      background: linear-gradient(135deg, rgba(56,189,248,0.26), #020617);
      color: #e0f2fe;
      box-shadow:
        0 0 0 1px rgba(15,23,42,1),
        0 12px 30px rgba(56,189,248,0.7);
    }

    .btn-ghost {
      border-style: dashed;
      color: var(--muted);
    }

    .chips-row {
      margin-top: 0.7rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.35rem;
      justify-content: center;
    }

    .chip {
      font-size: 0.74rem;
      padding: 0.12rem 0.6rem;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.8);
      background: rgba(15,23,42,0.96);
      color: var(--muted);
      cursor: pointer;
    }

    /* R√©sultats */

    .results-shell {
      margin-top: 1rem;
      border-radius: 22px;
      border: 1px solid var(--border);
      background: rgba(15,23,42,0.95);
      padding: 0.75rem 0.8rem 0.85rem;
      box-shadow: 0 18px 48px rgba(15,23,42,1);
    }

    .results-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 0.5rem;
      margin-bottom: 0.4rem;
    }

    .results-title {
      font-size: 0.9rem;
      color: #e5e7eb;
    }

    .results-count {
      font-size: 0.76rem;
      color: var(--muted);
    }

    #resultsList {
      margin-top: 0.3rem;
      display: grid;
      gap: 0.55rem;
    }

    .result-card {
      border-radius: 14px;
      border: 1px solid #111827;
      background: radial-gradient(circle at top left, rgba(56,189,248,0.16), transparent 55%), #020617;
      padding: 0.55rem 0.6rem 0.6rem;
      font-size: 0.86rem;
      box-shadow: 0 12px 30px rgba(15,23,42,0.96);
    }

    .result-title {
      font-size: 0.9rem;
      margin-bottom: 0.15rem;
    }

    .result-title a {
      color: #93c5fd;
      text-decoration: none;
    }

    .result-title a:hover {
      text-decoration: underline;
    }

    .result-category {
      font-size: 0.75rem;
      color: var(--muted);
      margin-bottom: 0.2rem;
    }

    .result-desc {
      font-size: 0.8rem;
      color: var(--fg);
    }

    .result-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.25rem;
      margin-top: 0.35rem;
    }

    .tag {
      font-size: 0.7rem;
      padding: 0.05rem 0.5rem;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.9);
      color: #cbd5f5;
      background: rgba(15,23,42,0.96);
    }

    .tag-soft {
      border-style: dashed;
      color: var(--muted);
    }

    .result-actions {
      margin-top: 0.4rem;
      display: flex;
      gap: 0.35rem;
      flex-wrap: wrap;
    }

    .btn-mini {
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.8);
      background: rgba(15,23,42,0.96);
      color: var(--fg);
      font-size: 0.72rem;
      padding: 0.18rem 0.6rem;
      cursor: pointer;
    }

    .btn-mini-primary {
      border-color: rgba(56,189,248,0.85);
      color: #e0f2fe;
    }

    .btn-mini-soft {
      border-style: dashed;
      color: var(--muted);
    }

    /* Bandeau bas */

    footer {
      margin-top: 0.7rem;
      font-size: 0.75rem;
      color: var(--muted);
      text-align: center;
    }

    /* Modal / alerte GOOGLE */

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at top, rgba(248,113,113,0.25), rgba(15,23,42,0.96));
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 50;
    }

    .modal {
      max-width: 420px;
      width: 90%;
      background: #020617;
      border-radius: 22px;
      border: 1px solid rgba(248,113,113,0.8);
      padding: 0.9rem 0.95rem 0.85rem;
      box-shadow:
        0 0 0 1px rgba(15,23,42,1),
        0 30px 80px rgba(15,23,42,1),
        0 0 40px rgba(248,113,113,0.7);
    }

    .modal-title {
      display: flex;
      gap: 0.5rem;
      align-items: center;
      font-size: 0.98rem;
      color: #fecaca;
      margin-bottom: 0.3rem;
    }

    .modal-body {
      font-size: 0.84rem;
      color: #fee2e2;
      margin-bottom: 0.5rem;
    }

    .modal-hint {
      font-size: 0.75rem;
      color: #fecaca;
    }

    .modal-buttons {
      margin-top: 0.6rem;
      display: flex;
      justify-content: flex-end;
      gap: 0.4rem;
      flex-wrap: wrap;
    }

    .modal-btn {
      border-radius: 999px;
      border: 1px solid rgba(248,113,113,0.9);
      background: rgba(15,23,42,0.96);
      color: #fecaca;
      font-size: 0.78rem;
      padding: 0.32rem 0.7rem;
      cursor: pointer;
    }

    .modal-btn-soft {
      border-style: dashed;
      color: #fecaca;
      opacity: 0.9;
    }

    @media (max-width: 640px) {
      .shell {
        padding: 0.9rem 0.85rem 1rem;
      }
      .results-shell {
        padding: 0.7rem 0.7rem 0.8rem;
      }
    }
  </style>
</head>
<body>
<main>
  <div class="shell">
    <header>
      <div class="logo">
        <span>N</span><span>E</span><span>P</span><span>S</span>
      </div>
      <p class="subtitle">
        Un faux moteur de recherche pour tout ton √©cosyst√®me  
        (tests, intranets, jeux, journaux, crypto, etc.) ‚Äì  
        <strong>sans jamais taper le mot interdit</strong>.
      </p>
    </header>

    <section class="search-shell">
      <form id="searchForm" autocomplete="off">
        <div class="search-box">
          <div class="search-icon">üîé</div>
          <input
            id="searchInput"
            type="text"
            placeholder='Tape un th√®me (ex : "b√©n√©volat", "intranet", "journal", "jeu", "crypto")'
          />
        </div>
      </form>
      <div class="search-warning">
        ‚ö†Ô∏è Ne tape <strong>jamais</strong> le mot <strong>g**gle</strong> ici.  
        Ce m√©ta-moteur ne sert qu‚Äô√† retrouver <em>tes</em> trucs √† toi.
      </div>

      <div class="search-buttons">
        <button class="btn btn-primary" type="button" id="btnLucky">J‚Äôai (plus ou moins) de la chance</button>
        <button class="btn btn-ghost" type="button" id="btnReset">Tout afficher</button>
      </div>

      <div class="chips-row">
        <span class="chip" data-query="portfolio">Portfolio & recrutement</span>
        <span class="chip" data-query="b√©n√©volat">B√©n√©volat & mouvements</span>
        <span class="chip" data-query="intranet">Organisation & intranet</span>
        <span class="chip" data-query="jeu">Jeux & tests</span>
        <span class="chip" data-query="journal">Journal & sant√© mentale</span>
        <span class="chip" data-query="crypto">Crypto associative</span>
        <span class="chip" data-query="tutoriel">Tutoriels web & sites</span>
      </div>
    </section>

    <section class="results-shell">
      <div class="results-header">
        <div class="results-title" id="resultsTitle">Modules recommand√©s</div>
        <div class="results-count" id="resultsCount"></div>
      </div>
      <div id="resultsList"></div>
    </section>

    <footer>
      NE-PAS-TAPER-CE-MOT est juste une porte d‚Äôentr√©e vers tous tes prototypes.  
      Tu peux adapter les liens, les titres et les descriptions dans le code selon tes fichiers r√©els.
    </footer>
  </div>
</main>

<!-- Modal GOOGLE interdit -->
<div class="modal-backdrop" id="modalBackdrop">
  <div class="modal">
    <div class="modal-title">
      <span>üö´</span>
      <strong>Mot interdit d√©tect√©</strong>
    </div>
    <div class="modal-body">
      Ce m√©ta-moteur ne sert pas √† chercher l‚Äôautre moteur de recherche.
      Ici, c‚Äôest pour explorer <strong>tes projets</strong>, tes tests, tes intranets, tes jeux,
      tes journaux, tes id√©es.
    </div>
    <div class="modal-hint">
      Essaie plut√¥t des mots comme <code>b√©n√©volat</code>, <code>journal</code>, <code>morpion</code>,
      <code>organisation</code>, <code>crypto</code>, <code>tutoriel</code>...
    </div>
    <div class="modal-buttons">
      <button class="modal-btn-soft modal-btn" type="button" id="btnModalClear">Ok, je re-essaie</button>
    </div>
  </div>
</div>

<script>
  // --- "Index" de tout ce qu'on a vu (version simplifi√©e / regroup√©e) ---

  const modules = [
    // PORTFOLIO / CARRI√àRE / LOBBY / ESPION
    {
      id: "portfolio-benevolat-cpcp",
      title: "Portfolio & b√©n√©volat ‚Äì CPCP / Mouvements",
      category: "Portfolio & Recrutement",
      description:
        "Page de pr√©sentation de tes comp√©tences (admin, √©ducation permanente, veille, jeux s√©rieux), orient√©e demande de b√©n√©volat ou de mission cibl√©e.",
      tags: ["portfolio", "b√©n√©volat", "CPCP", "√©ducation permanente", "vie pro"],
      url: "portfolio-benevolat.html"
    },
    {
      id: "portfolio-lobby",
      title: "Portfolio du parfait lobbyiste (critique & transparent)",
      category: "Portfolio & Recrutement",
      description:
        "Site vitrine pour expliquer comment tu comprends les rapports de force, la m√©diation, la communication politique ‚Äì en mode r√©fl√©chi, pas cynique.",
      tags: ["lobby", "plaidoyer citoyen", "analyse", "tests"],
      url: "lobby.html"
    },
    {
      id: "portfolio-espion",
      title: "Profil 'espion' civil & veille strat√©gique",
      category: "Portfolio & Recrutement",
      description:
        "Une version 'agent de renseignement citoyen' pour la S√ªret√© de l'√âtat, le SPF Int√©rieur, etc. Tests, sc√©narios, simulations de veille non marchande.",
      tags: ["renseignement", "veille", "jeu s√©rieux", "tests d‚Äôentr√©e"],
      url: "espion.html"
    },

    // ORGANISATION & INTRANET
    {
      id: "organisation",
      title: "L‚ÄôOrganisation ‚Äì Soci√©t√© Anonyme Sociale (SAS)",
      category: "Organisation & Intranet",
      description:
        "Site principal d‚Äôune 'Organisation' cryptique mais s√©rieuse, avec page d‚Äôaccueil, intranet, organigramme, plan de recrutement et tests d‚Äôentr√©e.",
      tags: ["intranet", "recrutement", "tests", "SAS"],
      url: "organisation.html"
    },
    {
      id: "organisation-derriere",
      title: "L‚Äôorganisation derri√®re l‚ÄôOrganisation",
      category: "Organisation & Intranet",
      description:
        "Meta-niveau : un site qui avoue qu‚Äôon ne sait presque rien de la structure r√©elle derri√®re tout √ßa, mais qui tente de cartographier le non-savoir.",
      tags: ["meta", "non-savoir", "structure cach√©e"],
      url: "organisation-behind.html"
    },
    {
      id: "intranet-secret-s",
      title: "Intranet de S. ‚Äì couche publique / priv√©e / confidentielle",
      category: "Organisation & Intranet",
      description:
        "Intranet complet pour 'S.', qui pilote l‚Äôorganisation derri√®re l‚Äôorganisation de 'P'. Portails, acc√®s diff√©renci√©s, commandes internes.",
      tags: ["intranet", "multi-couches", "secret", "console"],
      url: "intranet-s.html"
    },

    // MOUVEMENTS & EDUCATION PERMANENTE
    {
      id: "mouvement-ep",
      title: "Mouvement d‚Äô√©ducation permanente ‚Äì prendre la place du plus grand",
      category: "Mouvements & √âducation permanente",
      description:
        "Site ultra s√©rieux d‚Äôun mouvement d‚Äô√©ducation permanente fictif mais cr√©dible, avec intranet, console et strat√©gie pour devenir un acteur majeur.",
      tags: ["mouvement", "√©ducation permanente", "FWB", "intranet"],
      url: "mouvement-ep.html"
    },
    {
      id: "test-moc",
      title: "Test d‚Äôentr√©e ‚Äì MOC & alli√©s",
      category: "Mouvements & √âducation permanente",
      description:
        "Site de test d‚Äôentr√©e pour le MOC, avec annexe int√©gr√©e, quiz, embeds, et petite couche de mise √† distance critique.",
      tags: ["MOC", "mouvement ouvrier", "quiz", "annexes"],
      url: "moc-test.html"
    },
    {
      id: "test-pac",
      title: "Test d‚Äôentr√©e ‚Äì Pr√©sence & Action Culturelles",
      category: "Mouvements & √âducation permanente",
      description:
        "Page de test pour un fan club (non officiel) de PAC, avec quiz, embeds, rapport, humour et clins d‚Äô≈ìil √† la culture politique.",
      tags: ["PAC", "culture", "quiz", "humour"],
      url: "pac-test.html"
    },

    // JEUX / TESTS / GAMIFICATION
    {
      id: "morpion-de-360",
      title: "Morpion & d√© 360 couleurs",
      category: "Jeux & Tests",
      description:
        "Un morpion classique o√π chaque victoire d√©bloque une combinaison li√©e √† une facette color√©e d‚Äôun d√© 3D, avec export CSV/JSON.",
      tags: ["jeu", "morpion", "3D", "export", "prototypage"],
      url: "morpion-de-360.html"
    },
    {
      id: "recrutement-tests",
      title: "Batterie de tests de recrutement pour P",
      category: "Jeux & Tests",
      description:
        "Ensemble de tests autoguid√©s (niveaux, easter eggs, docs embarqu√©s) pour rejoindre les projets de P. ou constituer une r√©serve de recrutement.",
      tags: ["tests", "recrutement", "niveaux", "ARG"],
      url: "recrutement-p.html"
    },
    {
      id: "jeu-1250",
      title: "Jeu concours '12,50' ‚Äì site statique le plus wow",
      category: "Jeux & Tests",
      description:
        "Concours fictif : cr√©er le site HTML/CSS/JS le plus spectaculaire, avec d√©fis, easter eggs, cheatcodes, ambiance matrix.",
      tags: ["jeu concours", "HTML/CSS/JS", "matrix", "gamification"],
      url: "1250.html"
    },
    {
      id: "jeu-polar-ia",
      title: "Jeu narratif polar noir contr√¥l√© par l‚ÄôIA",
      category: "Jeux & Tests",
      description:
        "Exp√©rience interactive fa√ßon polar noir, vue parfois par Claire, avec flashbacks et IA qui contr√¥le (presque) tout.",
      tags: ["polar noir", "IA", "narration", "jeu"],
      url: "jeu-polar.html"
    },

    // JOURNAL & SANTE MENTALE
    {
      id: "journal-vrac",
      title: "Site de la vie d‚Äôune personne un peu en vrac",
      category: "Journal & Sant√© mentale",
      description:
        "Appli de journal minimal pour quelqu‚Äôun qui dort √† 5h, se r√©veille √† 10h, se rendort √† 13h, regrette des livres et doit voir son/sa psy √† 11h.",
      tags: ["journal", "sommeil", "psy", "rapport exportable"],
      url: "journal-vie.html"
    },

    // CRYPTO & ECONOMIE
    {
      id: "crypto-associative",
      title: "Syst√®me de crypto associative sur papier",
      category: "√âconomie & Crypto",
      description:
        "Site explicatif sur la fa√ßon de cr√©er une 'crypto' non sp√©culative pour associations, avec billets papier, contributeurs, niveaux d‚Äôimplication.",
      tags: ["crypto", "associatif", "√©conomie", "p√©dagogie"],
      url: "crypto-associative.html"
    },

    // TUTORIELS WEB / PORTAILS
    {
      id: "tutoriel-web-scratchy",
      title: "Tutoriels 'from scratch' pour sites statiques",
      category: "Tutoriels & Portails",
      description:
        "Pages pas-√†-pas pour cr√©er des sites HTML/CSS/JS en mode ultra accessible (version 'j‚Äôai 5 ans et je suis bourr√©', etc.).",
      tags: ["tutoriel", "HTML", "CSS", "JS", "p√©dagogie"],
      url: "pas-a-pas.html"
    },
    {
      id: "portail-dashboard",
      title: "Dashboard / portail vers tous les dossiers & tests",
      category: "Tutoriels & Portails",
      description:
        "Grand portail fa√ßon 'tableau de bord' pour acc√©der √† tous les dossiers (plaidoyer citoyen, Pikachu, etc.) et √† leurs tests associ√©s.",
      tags: ["portail", "dashboard", "tests", "dossiers"],
      url: "dashboard.html"
    }
  ];

  // --- DOM helpers ---
  const $ = (id) => document.getElementById(id);

  const searchInput = $("searchInput");
  const searchForm = $("searchForm");
  const resultsList = $("resultsList");
  const resultsTitle = $("resultsTitle");
  const resultsCount = $("resultsCount");
  const btnLucky = $("btnLucky");
  const btnReset = $("btnReset");
  const chips = document.querySelectorAll(".chip");

  const modalBackdrop = $("modalBackdrop");
  const btnModalClear = $("btnModalClear");

  // --- Recherche ---

  function normalize(text) {
    return (text || "").toLowerCase();
  }

  function matchesQuery(module, query) {
    if (!query) return true;
    const q = normalize(query);

    const haystack = [
      module.title,
      module.category,
      module.description,
      ...(module.tags || [])
    ].join(" ").toLowerCase();

    return q.split(/\s+/).every((part) => haystack.includes(part));
  }

  function renderResults(list, query) {
    resultsList.innerHTML = "";
    if (!list.length) {
      resultsTitle.textContent = query ? `Aucun module trouv√© pour ¬´ ${query} ¬ª` : "Aucun module enregistr√©";
      resultsCount.textContent = "";
      return;
    }

    if (query) {
      resultsTitle.textContent = `R√©sultats pour ¬´ ${query} ¬ª`;
    } else {
      resultsTitle.textContent = "Modules recommand√©s";
    }
    resultsCount.textContent = `${list.length} module${list.length > 1 ? "s" : ""}`;

    list.forEach((m) => {
      const card = document.createElement("article");
      card.className = "result-card";

      const titleDiv = document.createElement("div");
      titleDiv.className = "result-title";
      const link = document.createElement("a");
      link.href = m.url || "#";
      link.textContent = m.title;
      titleDiv.appendChild(link);

      const cat = document.createElement("div");
      cat.className = "result-category";
      cat.textContent = m.category;

      const desc = document.createElement("div");
      desc.className = "result-desc";
      desc.textContent = m.description;

      const tagsDiv = document.createElement("div");
      tagsDiv.className = "result-tags";
      (m.tags || []).forEach((t) => {
        const span = document.createElement("span");
        span.className = "tag";
        span.textContent = t;
        tagsDiv.appendChild(span);
      });

      const actions = document.createElement("div");
      actions.className = "result-actions";

      const btnOpen = document.createElement("button");
      btnOpen.className = "btn-mini btn-mini-primary";
      btnOpen.type = "button";
      btnOpen.textContent = "Ouvrir (lien fictif)";
      btnOpen.addEventListener("click", () => {
        window.location.href = m.url || "#";
      });

      const btnFilter = document.createElement("button");
      btnFilter.className = "btn-mini btn-mini-soft";
      btnFilter.type = "button";
      btnFilter.textContent = "Filtrer sur cette cat√©gorie";
      btnFilter.addEventListener("click", () => {
        searchInput.value = m.category.split(" ")[0];
        performSearch(m.category.split(" ")[0]);
      });

      actions.appendChild(btnOpen);
      actions.appendChild(btnFilter);

      card.appendChild(titleDiv);
      card.appendChild(cat);
      card.appendChild(desc);
      if (m.tags && m.tags.length) card.appendChild(tagsDiv);
      card.appendChild(actions);
      resultsList.appendChild(card);
    });
  }

  function containsForbiddenWord(query) {
    const q = normalize(query);
    if (!q) return false;
    // On attrape plusieurs variantes possibles
    return ["google", "gogle", "gugel", "g00gle"].some((word) => q.includes(word));
  }

  function showForbiddenModal() {
    modalBackdrop.style.display = "flex";
  }

  function hideForbiddenModal() {
    modalBackdrop.style.display = "none";
    searchInput.value = "";
    searchInput.focus();
  }

  function performSearch(query) {
    const q = (query !== undefined ? query : searchInput.value || "").trim();

    if (containsForbiddenWord(q)) {
      showForbiddenModal();
      renderResults(modules, ""); // on revient √† l'ensemble, mais on ne l‚Äôindique pas explicitement
      return;
    }

    const filtered = modules.filter((m) => matchesQuery(m, q));
    renderResults(filtered, q);
  }

  // --- √âv√©nements ---

  searchForm.addEventListener("submit", (e) => {
    e.preventDefault();
    performSearch();
  });

  searchInput.addEventListener("input", () => {
    // Recherche 'live' tr√®s tol√©rante
    performSearch();
  });

  btnLucky.addEventListener("click", () => {
    if (!modules.length) return;
    const idx = Math.floor(Math.random() * modules.length);
    const chosen = modules[idx];
    searchInput.value = chosen.tags[0] || chosen.category.split(" ")[0] || "";
    performSearch(searchInput.value);
  });

  btnReset.addEventListener("click", () => {
    searchInput.value = "";
    renderResults(modules, "");
  });

  chips.forEach((chip) => {
    chip.addEventListener("click", () => {
      const q = chip.dataset.query || "";
      searchInput.value = q;
      performSearch(q);
    });
  });

  btnModalClear.addEventListener("click", hideForbiddenModal);
  modalBackdrop.addEventListener("click", (e) => {
    if (e.target === modalBackdrop) hideForbiddenModal();
  });

  // --- Init ---
  renderResults(modules, "");
</script>
</body>
</html>
