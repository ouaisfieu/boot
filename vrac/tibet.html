<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Test Licorne & Ballon Â· Veux-tu vraiment jouer ?</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root {
      --bg: #130926;
      --bg-soft: #231339;
      --card: #ffffff;
      --accent: #ff6ad5;
      --accent-soft: #ffe66a;
      --accent-alt: #71f6ff;
      --text-main: #222222;
      --text-muted: #666666;
      --radius-lg: 18px;
      --radius-md: 12px;
      --shadow: 0 16px 40px rgba(0,0,0,0.35);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      min-height: 100vh;
      background:
        radial-gradient(circle at top left, #ff6ad5 0, transparent 55%),
        radial-gradient(circle at bottom right, #71f6ff 0, transparent 55%),
        linear-gradient(135deg, #130926, #231339);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
      color: #fff;
    }

    .app {
      width: 100%;
      max-width: 480px;
    }

    .card {
      background: var(--card);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow);
      padding: 1rem 1rem 0.8rem;
      position: relative;
      overflow: hidden;
    }

    .confetti {
      position: absolute;
      inset: -30px;
      pointer-events: none;
      opacity: 0.12;
      background-image:
        radial-gradient(circle at 10% 20%, #ff6ad5 0 3px, transparent 3px),
        radial-gradient(circle at 80% 30%, #71f6ff 0 3px, transparent 3px),
        radial-gradient(circle at 30% 80%, #ffe66a 0 3px, transparent 3px),
        radial-gradient(circle at 60% 70%, #9b5cff 0 3px, transparent 3px);
      background-size: 80px 80px;
      mix-blend-mode: multiply;
    }

    .card-inner {
      position: relative;
      z-index: 1;
    }

    header {
      display: flex;
      gap: 0.6rem;
      align-items: center;
      margin-bottom: 0.6rem;
    }
    .bubble {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(135deg, #ff6ad5, #ffe66a);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.3rem;
      box-shadow: 0 6px 18px rgba(0,0,0,0.3);
    }
    h1 {
      font-size: 1rem;
      line-height: 1.3;
      color: var(--text-main);
    }
    .subtitle {
      font-size: 0.78rem;
      color: var(--text-muted);
      margin-bottom: 0.7rem;
      line-height: 1.4;
    }

    /* DifficultÃ© */
    .difficulty {
      margin-bottom: 0.7rem;
      border-radius: var(--radius-md);
      background: #faf5ff;
      padding: 0.4rem 0.5rem;
    }
    .difficulty-label {
      font-size: 0.7rem;
      color: #7a5ca8;
      margin-bottom: 0.25rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }
    .difficulty-buttons {
      display: flex;
      gap: 0.3rem;
      flex-wrap: wrap;
    }
    .diff-btn {
      border-radius: 999px;
      border: 1px solid #e0ccff;
      padding: 0.22rem 0.6rem;
      font-size: 0.7rem;
      background: #ffffff;
      color: #7a5ca8;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      transition: 0.1s ease-out;
    }
    .diff-dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background: #e0ccff;
    }
    .diff-btn.active {
      background: linear-gradient(135deg, #ff6ad5, #ffe66a);
      border-color: transparent;
      color: #2d104b;
      box-shadow: 0 6px 14px rgba(0,0,0,0.25);
    }
    .diff-btn.active .diff-dot {
      background: #2d104b;
    }

    /* Question */
    .question-block {
      border-radius: var(--radius-md);
      background: #fdfbff;
      padding: 0.6rem 0.6rem 0.5rem;
      margin-bottom: 0.5rem;
    }
    .q-progress {
      font-size: 0.7rem;
      color: var(--text-muted);
      margin-bottom: 0.2rem;
      display: flex;
      justify-content: space-between;
      align-items: baseline;
    }
    .q-title {
      font-size: 0.9rem;
      color: var(--text-main);
      margin-bottom: 0.35rem;
    }
    .q-sub {
      font-size: 0.75rem;
      color: var(--text-muted);
      margin-bottom: 0.45rem;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 0.3rem;
    }
    .option-btn {
      width: 100%;
      border-radius: 999px;
      border: 1px solid #e3e3f0;
      padding: 0.35rem 0.6rem;
      font-size: 0.78rem;
      background: #ffffff;
      color: var(--text-main);
      display: flex;
      align-items: center;
      gap: 0.35rem;
      cursor: pointer;
      transition: 0.1s ease-out;
      text-align: left;
    }
    .option-emoji {
      font-size: 1.1rem;
      flex-shrink: 0;
    }
    .option-text-main {
      font-weight: 600;
    }
    .option-text-sub {
      font-size: 0.7rem;
      color: var(--text-muted);
    }
    .option-btn:hover {
      border-color: var(--accent-soft);
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
      transform: translateY(-1px);
    }
    .option-btn.selected {
      border-color: var(--accent);
      box-shadow: 0 5px 14px rgba(255,106,213,0.3);
      background: linear-gradient(135deg, #fff2fb, #fffbe3);
    }

    .progress-bar {
      margin-top: 0.3rem;
      height: 4px;
      border-radius: 999px;
      background: #ece8ff;
      overflow: hidden;
    }
    .progress-inner {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #ff6ad5, #ffe66a, #71f6ff);
      transition: width 0.2s ease-out;
    }

    .actions {
      margin-top: 0.5rem;
      display: flex;
      justify-content: space-between;
      gap: 0.3rem;
    }
    .btn {
      border-radius: 999px;
      border: 1px solid #e0e0f0;
      padding: 0.3rem 0.7rem;
      font-size: 0.75rem;
      background: #ffffff;
      color: var(--text-main);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      transition: 0.08s ease-out;
    }
    .btn span.dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background: #d0c6ff;
    }
    .btn.primary {
      background: linear-gradient(135deg, #ff6ad5, #ffe66a);
      border-color: transparent;
      color: #2d104b;
    }
    .btn.primary span.dot {
      background: #2d104b;
    }
    .btn:disabled {
      opacity: 0.5;
      cursor: default;
      box-shadow: none;
    }
    .btn:hover:not(:disabled) {
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      transform: translateY(-1px);
    }
    .btn:active:not(:disabled) {
      transform: translateY(0);
      box-shadow: none;
    }

    /* RÃ©sultat */
    .result {
      border-radius: var(--radius-md);
      background: #fdfbff;
      padding: 0.7rem 0.6rem 0.6rem;
      margin-top: 0.3rem;
    }
    .result-head {
      display: flex;
      gap: 0.5rem;
      align-items: center;
      margin-bottom: 0.4rem;
    }
    .result-emoji {
      font-size: 1.6rem;
    }
    .result-title {
      font-size: 0.92rem;
      color: var(--text-main);
      font-weight: 700;
    }
    .result-tagline {
      font-size: 0.75rem;
      color: var(--text-muted);
    }
    .result-text {
      font-size: 0.76rem;
      color: var(--text-main);
      line-height: 1.5;
      margin-bottom: 0.4rem;
    }
    .result-links {
      font-size: 0.72rem;
      color: var(--text-muted);
    }
    .result-links strong {
      color: #444;
    }
    .result-links ul {
      margin: 0.25rem 0 0;
      padding-left: 1rem;
    }

    footer {
      margin-top: 0.4rem;
      text-align: center;
      font-size: 0.68rem;
      color: #d4cff5;
    }
  </style>
</head>
<body>
<div class="app">
  <div class="card">
    <div class="confetti"></div>
    <div class="card-inner">
      <header>
        <div class="bubble">ğŸ¦„</div>
        <div>
          <h1>Test Licorne & Ballon</h1>
          <p class="subtitle">
            Petit jeu pour savoir si tu veux monter dans lâ€™aventure  
            ou si tu prÃ©fÃ¨res garder une distance de sÃ©curitÃ© avec les licornes organisÃ©es.
          </p>
        </div>
      </header>

      <section class="difficulty">
        <div class="difficulty-label">Choisis ton niveau de sÃ©rieux</div>
        <div class="difficulty-buttons">
          <button class="diff-btn active" data-level="soft">
            <span class="diff-dot"></span> Ballon tranquille ğŸˆ
          </button>
          <button class="diff-btn" data-level="medium">
            <span class="diff-dot"></span> Licorne en balade ğŸ¦„
          </button>
          <button class="diff-btn" data-level="hard">
            <span class="diff-dot"></span> Boss final cynical ğŸ’£
          </button>
        </div>
      </section>

      <section class="question-block" id="question-block">
        <!-- Contenu injectÃ© en JS -->
      </section>

      <div class="actions">
        <button class="btn" id="btn-back">
          <span class="dot"></span> Retour
        </button>
        <button class="btn primary" id="btn-next" disabled>
          <span class="dot"></span> Suivant
        </button>
      </div>

      <footer>
        Ce test ne tâ€™engage Ã  rien. MÃªme pas Ã  aimer les licornes.  
        Il aide juste Ã  savoir si tu veux jouer avec nous (ou pas).
      </footer>
    </div>
  </div>
</div>

<script>
  // Questions ultra simples, 3 types de rÃ©ponses :
  // YAY  = prÃªt Ã  monter dans lâ€™aventure
  // MAYBE = curieux mais prudent
  // NOPE  = pas pour lâ€™instant (et câ€™est ok)
  const QUESTIONS = [
    {
      title: "1. Quand tu vois un â€˜grand projet un peu chelouâ€™",
      subtitle: "Nouveau truc participatif, plein de belles promesses, personne ne comprend vraiment tout.",
      options: [
        {
          type: "YAY",
          emoji: "ğŸ‰",
          main: "Je me dis Â« pourquoi pas Â», je veux voir de lâ€™intÃ©rieur.",
          sub: "Au pire, Ã§a fera une bonne histoire."
        },
        {
          type: "MAYBE",
          emoji: "ğŸ‘€",
          main: "Je garde Ã§a en tÃªte, mais je ne saute pas dedans tout de suite.",
          sub: "Dâ€™abord, je regarde comment Ã§a tourne pour les autres."
        },
        {
          type: "NOPE",
          emoji: "ğŸ§¯",
          main: "Je mâ€™Ã©loigne doucement en faisant semblant de ne pas avoir vu.",
          sub: "Les projets chelous, jâ€™ai dÃ©jÃ  donnÃ©."
        }
      ]
    },
    {
      title: "2. On te propose un jeu avec des niveaux, des tests, des docs",
      subtitle: "Parfois fun, parfois chiant, parfois utile, parfois justeâ€¦ bizarre.",
      options: [
        {
          type: "YAY",
          emoji: "ğŸ•¹ï¸",
          main: "Je veux bien tester, surtout si on peut arrÃªter quand on veut.",
          sub: "Tant quâ€™on ne me vend pas Ã§a comme magique."
        },
        {
          type: "MAYBE",
          emoji: "ğŸ“",
          main: "Je veux dâ€™abord comprendre Ã  quoi Ã§a sert concrÃ¨tement.",
          sub: "Pas juste â€˜pour la gamificationâ€™, merci bien."
        },
        {
          type: "NOPE",
          emoji: "ğŸ˜´",
          main: "Jâ€™ai dÃ©jÃ  mon quota de tests, quizz et formulaires.",
          sub: "Je veux lire un rÃ©sumÃ©, pas jouer un RPG administratif."
        }
      ]
    },
    {
      title: "3. Les licornes et les ballons",
      subtitle: "Tout le monde parle de â€˜funâ€™, de â€˜co-crÃ©ationâ€™, de â€˜communautÃ©â€™â€¦",
      options: [
        {
          type: "YAY",
          emoji: "ğŸ¦„",
          main: "Jâ€™aime bien les licornes, mÃªme quand elles sont un peu cassÃ©es.",
          sub: "Je peux gÃ©rer le kawaii + le cynisme."
        },
        {
          type: "MAYBE",
          emoji: "ğŸˆ",
          main: "Les ballons câ€™est sympa, mais je veux voir ce quâ€™il y a derriÃ¨re la dÃ©co.",
          sub: "Sâ€™il nâ€™y a que du vernis, je me barre."
        },
        {
          type: "NOPE",
          emoji: "ğŸª“",
          main: "Si Ã§a fait trop â€˜licorne corporateâ€™, Ã§a me donne des boutons.",
          sub: "Je prÃ©fÃ¨re quâ€™on soit honnÃªte sur le cÃ´tÃ© galÃ¨re."
        }
      ]
    },
    {
      title: "4. Ton Ã©nergie dispo en ce moment",
      subtitle: "On parle de ton vrai stock de cuillÃ¨res, pas de ton profil LinkedIn.",
      options: [
        {
          type: "YAY",
          emoji: "âš¡",
          main: "Jâ€™ai un peu dâ€™Ã©nergie pour tester un truc Ã  mon rythme.",
          sub: "Pas tous les jours, mais assez pour une expÃ©rience."
        },
        {
          type: "MAYBE",
          emoji: "ğŸŒ™",
          main: "Je suis fatiguÃ©Â·e, mais jâ€™aime bien avoir un petit truc Ã  suivre en douceur.",
          sub: "Mode flÃ¢neur, pas guerre totale."
        },
        {
          type: "NOPE",
          emoji: "ğŸ§˜",
          main: "Franchement, je suis en mode survie, pas en mode â€˜aventure Ã©piqueâ€™.",
          sub: "Si je participe, ce sera en fantÃ´me."
        }
      ]
    },
    {
      title: "5. Si cette aventure Ã©tait un jeu vidÃ©o",
      subtitle: "Avec des niveaux, des choix, des boss et des passages chiants.",
      options: [
        {
          type: "YAY",
          emoji: "ğŸ†",
          main: "Je jouerais bien en mode histoire, avec possibilitÃ© de rage-quit.",
          sub: "Et si Ã§a me plaÃ®t, je passe en mode plus corsÃ©."
        },
        {
          type: "MAYBE",
          emoji: "ğŸ“–",
          main: "Je regarderais dâ€™abord un â€˜letâ€™s playâ€™ avant dâ€™acheter la manette.",
          sub: "Je veux savoir dans quoi je mets mes neurones."
        },
        {
          type: "NOPE",
          emoji: "ğŸšª",
          main: "Je laisse les autres jouer et je passe voir plus tard si Ã§a vaut le coup.",
          sub: "Je garde ma sortie de secours Ã  portÃ©e de main."
        }
      ]
    }
  ];

  const questionBlock = document.getElementById('question-block');
  const btnBack = document.getElementById('btn-back');
  const btnNext = document.getElementById('btn-next');
  const diffButtons = document.querySelectorAll('.diff-btn');

  let currentIndex = 0;
  let selectedOptionIndex = null;
  let scores = { YAY: 0, MAYBE: 0, NOPE: 0 };
  let level = 'soft'; // soft / medium / hard

  function renderQuestion() {
    const q = QUESTIONS[currentIndex];
    selectedOptionIndex = null;

    const total = QUESTIONS.length;
    const progressPercent = ((currentIndex) / total) * 100;

    questionBlock.innerHTML = `
      <div class="q-progress">
        <span>Question ${currentIndex + 1} / ${total}</span>
        <span>${levelLabel()}</span>
      </div>
      <div class="q-title">${q.title}</div>
      <div class="q-sub">${q.subtitle}</div>
      <div class="options">
        ${q.options.map((opt, i) => `
          <button class="option-btn" data-index="${i}">
            <div class="option-emoji">${opt.emoji}</div>
            <div>
              <div class="option-text-main">${opt.main}</div>
              <div class="option-text-sub">${opt.sub}</div>
            </div>
          </button>
        `).join('')}
      </div>
      <div class="progress-bar">
        <div class="progress-inner" style="width:${progressPercent}%;"></div>
      </div>
    `;

    btnNext.textContent = (currentIndex === total - 1) ? "Voir mon rÃ©sultat" : "Suivant";
    btnNext.disabled = true;
    btnBack.disabled = (currentIndex === 0);

    questionBlock.querySelectorAll('.option-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        questionBlock.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        selectedOptionIndex = parseInt(btn.getAttribute('data-index'), 10);
        btnNext.disabled = false;
      });
    });
  }

  function levelLabel() {
    if (level === 'soft') return "Mode ballon tranquille";
    if (level === 'medium') return "Mode licorne en balade";
    return "Mode boss final cynical";
  }

  function computeResult() {
    // DÃ©cider de la tendance principale
    const yay = scores.YAY;
    const maybe = scores.MAYBE;
    const nope = scores.NOPE;
    const maxScore = Math.max(yay, maybe, nope);
    let main;

    if (yay === maxScore && yay > 0) main = 'YAY';
    else if (maybe === maxScore && maybe > 0) main = 'MAYBE';
    else if (nope === maxScore && nope > 0) main = 'NOPE';
    else main = 'MAYBE'; // cas neutre

    // Texte en fonction du rÃ©sultat + niveau choisi
    let emoji, title, tagline, text, links;

    if (main === 'YAY') {
      emoji = "ğŸ¦„ğŸˆ";
      title = "Tu es prÃªtÂ·e pour lâ€™aventure (avec luciditÃ©)";
      tagline = "Licorne fonctionnelle, cinique mais partante.";
      text = (level === 'hard')
        ? "Tu peux clairement encaisser un mode plus corsÃ© : docs, tests, petites missions, un peu de chaos organisÃ©. Tant quâ€™on ne te prend pas pour un pigeon rose, tu es prÃªtÂ·e Ã  jouer sÃ©rieusement."
        : "Tu as envie de tester, sans te faire dâ€™illusions magiques. Tu peux rejoindre lâ€™aventure Ã  ton rythme, dire stop quand tu veux, et participer Ã  fabriquer quelque chose dâ€™utile (et un peu bancal).";
      links = `
        <ul>
          <li><strong>Option 1 :</strong> Rejoindre le jeu complet et tester les prochains niveaux.</li>
          <li><strong>Option 2 :</strong> Observer un peu, puis choisir une petite mission de test.</li>
          <li><strong>Option 3 :</strong> Garder le lien pour plus tard, mais rester en veille.</li>
        </ul>
      `;
    } else if (main === 'NOPE') {
      emoji = "ğŸ§±ğŸ¦„";
      title = "Pas le moment, et câ€™est respectable";
      tagline = "Licorne en RTT, ballon percÃ© assumÃ©.";
      text = "Tu as dÃ©jÃ  ton quota de projets, de tests ou de galÃ¨res. Lâ€™idÃ©e dâ€™une aventure de plus te fatigue plus quâ€™elle ne tâ€™excite. Ce nâ€™est pas un problÃ¨me : parfois, la dÃ©cision la plus saine, câ€™est de ne pas embarquer.";
      links = `
        <ul>
          <li><strong>Option 1 :</strong> Rester spectateurÂ·ice complet, sans engagement.</li>
          <li><strong>Option 2 :</strong> Revenir un jour oÃ¹ tu auras plus dâ€™Ã©nergie (ou plus de colÃ¨re Ã  canaliser).</li>
          <li><strong>Option 3 :</strong> Partager ce test Ã  quelquâ€™un que Ã§a pourrait amuser / intÃ©resser.</li>
        </ul>
      `;
    } else {
      emoji = "ğŸˆğŸ¤¨";
      title = "CurieuxÂ·se mais prudentÂ·e";
      tagline = "Ballon mÃ©fiant, licorne en veille.";
      text = "Tu nâ€™es pas fermÃ©Â·e, mais tu veux comprendre Ã  quoi Ã§a sert, combien Ã§a prend dâ€™Ã©nergie, et qui tient vraiment la boutique. Tu es le profil parfait pour tester sans te laisser embobiner : observateurÂ·ice actifÂ·ve.";
      links = `
        <ul>
          <li><strong>Option 1 :</strong> Demander dâ€™abord un aperÃ§u clair avant de te lancer Ã  fond.</li>
          <li><strong>Option 2 :</strong> Entrer dans lâ€™aventure en mode â€˜flÃ¢neurâ€™ : une Ã©tape Ã  la fois.</li>
          <li><strong>Option 3 :</strong> Te rÃ©server un droit de veto permanent : tu peux quitter le jeu dÃ¨s que ce nâ€™est plus alignÃ© avec toi.</li>
        </ul>
      `;
    }

    questionBlock.innerHTML = `
      <div class="result">
        <div class="result-head">
          <div class="result-emoji">${emoji}</div>
          <div>
            <div class="result-title">${title}</div>
            <div class="result-tagline">${tagline}</div>
          </div>
        </div>
        <div class="result-text">
          ${text}
        </div>
        <div class="result-links">
          <strong>ConcrÃ¨tement, tu peux :</strong>
          ${links}
          <p style="margin-top:0.35rem;">
            Dans la vraie vie, Ã§a pourra devenir : des liens vers des pages de prÃ©sentation,  
            un bouton â€œJe veux participerâ€, ou juste un â€œMerci, mais pas pour moi (pour lâ€™instant)â€.
          </p>
        </div>
      </div>
    `;

    btnBack.disabled = false;
    btnNext.textContent = "Recommencer";
    btnNext.disabled = false;
  }

  // Navigation
  btnNext.addEventListener('click', () => {
    const total = QUESTIONS.length;

    // Si on est en mode rÃ©sultat -> reset
    if (currentIndex >= total) {
      currentIndex = 0;
      scores = { YAY: 0, MAYBE: 0, NOPE: 0 };
      renderQuestion();
      return;
    }

    if (selectedOptionIndex === null) return;
    const q = QUESTIONS[currentIndex];
    const chosen = q.options[selectedOptionIndex];
    scores[chosen.type]++;

    if (currentIndex === total - 1) {
      currentIndex = total;
      computeResult();
    } else {
      currentIndex++;
      renderQuestion();
    }
  });

  btnBack.addEventListener('click', () => {
    if (currentIndex === 0) return;

    const total = QUESTIONS.length;
    if (currentIndex >= total) {
      // Revenir Ã  la derniÃ¨re question
      currentIndex = total - 1;
      renderQuestion();
      return;
    }

    // On recule d'une question & on retire le score prÃ©cÃ©dent
    // (simple : on ne garde pas lâ€™historique prÃ©cis, mais pour ce jeu câ€™est suffisant
    // si on fait juste "recommencer" pour changer la vraie rÃ©ponse).
    currentIndex--;
    renderQuestion();
  });

  // Choix du niveau (influence uniquement le ton du rÃ©sultat)
  diffButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      diffButtons.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      level = btn.getAttribute('data-level');
      // On met Ã  jour le label de progression sans casser la question
      const lbl = document.querySelector('.q-progress span:last-child');
      if (lbl) lbl.textContent = levelLabel();
    });
  });

  // Premier rendu
  renderQuestion();
</script>
</body>
</html>
